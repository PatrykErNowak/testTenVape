"use strict";function setCookie(e,t,i){var o=new Date,i=(o.setTime(o.getTime()+24*i*60*60*1e3),"expires="+o.toUTCString());document.cookie=e+`=${t};${i};path=/`}function getCookie(e){var i=e+"=",o=document.cookie.split(";");for(let t=0;t<o.length;t++){let e=o[t];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(i))return e.substring(i.length,e.length)}return""}const showAgeVeryficationModal=function(){if("yes"!==getCookie("ageOver18")){const t=document.createElement("div");document.body.style.overflow="hidden",t.classList.add("modal-container"),t.innerHTML=`<div class="modal-age">
<div class="modal-age__content">
    <img class="modal-age__logo" src="./img/tenvape-logo-text.png" alt="">
    <p class="modal-age__text">Czy masz skończone 18 lat?</p>
    <div class="modal-age__btns">
        <button class="btn btn--confirm">Tak</button>
        <button class="btn btn--denied">Nie</button>
    </div>
    <p class="modal-age__text-small">Wchodząc na stronę naszego sklepu potwierdzasz, że jesteś osobą
        pełnoletnią.</p>
</div>
</div>`;const i=t.querySelector(".btn--confirm");var e=t.querySelector(".btn--denied");i.addEventListener("click",()=>{setCookie("ageOver18","yes",7),t.style.opacity=0,document.body.style.overflow="auto",setTimeout(()=>{i.closest(".modal-container").remove()},1e3)}),e.addEventListener("click",()=>{window.location.href="https://www.google.pl"}),document.body.append(t)}},cookiesModal=function(){if("yes"!==getCookie("cookies")){const e=document.createElement("div");e.classList.add("modal-cookies"),e.innerHTML=`<p class="modal-cookies__text">Ta strona wykorzystuje pliki cookie. Używamy informacji zapisanych za pomocą
  plików cookies w celu zapewnienia maksymalnej wygody w korzystaniu z naszego serwisu.</p><button class="modal-cookies__btn btn btn--confirm">Akceptuję</button>`,document.body.append(e);e.querySelector("button").addEventListener("click",function(){setCookie("cookies","yes",365),e.remove()})}},mobileNavigationHandler=function(){const e=document.querySelector(".hamburger"),t=document.querySelector(".navbar__menu");e.addEventListener("click",function(){t.classList.toggle("navbar__menu--active"),e.classList.toggle("is-active"),t.classList.contains("navbar__menu--active")?document.body.style.overflow="hidden":document.body.style.overflow="auto"})},displayFooterYear=function(){var e=document.querySelector(".footer__year"),t=(new Date).getFullYear();e.textContent=t},facebookMessenger=function(){var e,t,i,o=document.getElementById("fb-customer-chat");o.setAttribute("page_id","109763205136637"),o.setAttribute("attribution","biz_inbox"),window.fbAsyncInit=function(){FB.init({xfbml:!0,version:"v16.0"})},o=document,e="script",t="facebook-jssdk",i=o.getElementsByTagName(e)[0],o.getElementById(t)||((o=o.createElement(e)).id=t,o.src="https://connect.facebook.net/pl_PL/sdk/xfbml.customerchat.js",i.parentNode.insertBefore(o,i))},canvasBg=function(){const d=document.getElementById("canvas1"),o=d.getContext("2d");d.width=window.innerWidth,d.height=window.innerHeight;let c;const i={x:null,y:null,radius:d.height/220*(d.width/220)};window.addEventListener("mousemove",e=>{i.x=e.x,i.y=e.y});class r{constructor(e,t,i,o,n,s){this.x=e,this.y=t,this.directionX=i,this.directionY=o,this.size=n,this.color=s}draw(){o.beginPath(),o.arc(this.x,this.y,this.size,0,2*Math.PI,!1),o.fillStyle="#1cca59",o.fill()}update(){(this.x>d.width||this.x<0)&&(this.directionX=-this.directionX),(this.y>d.height||this.y<0)&&(this.directionY=-this.directionY);var e=i.x-this.x,t=i.y-this.y;Math.sqrt(e*e+t*t)<i.radius+this.size&&(i.x<this.x&&this.x<d.width-10*this.size&&(this.x+=10),i.x>this.x&&this.x>10*this.size&&(this.x-=10),i.y<this.y&&this.y<d.height-10*this.size&&(this.y+=10),i.y>this.y)&&this.y>10*this.size&&(this.y-=10),this.x+=this.directionX,this.y+=this.directionY,this.draw()}}function e(){c=[];var t=d.height*d.width/2e4;for(let e=0;e<t;e++){var i=5*Math.random()+1,o=Math.random()*(window.innerWidth-2*i-2*i)+2*i,n=Math.random()*(window.innerHeight-2*i-2*i)+2*i,s=.2*Math.random(),a=.2*Math.random();c.push(new r(o,n,s,a,i,"#1cca59"))}}function t(){requestAnimationFrame(t),o.clearRect(0,0,window.innerWidth,window.innerHeight);for(let e=0;e<c.length;e++)c[e].update();for(let t=0;t<c.length;t++)for(let e=0;e<c.length;e++){var i=(c[t].x-c[e].x)*(c[t].x-c[e].x)+(c[t].y-c[e].y)*(c[t].y-c[e].y);i<d.width/7*d.height/7&&(i=1-i/15e3,o.strokeStyle=`rgba(28, 202, 89,${i})`,o.lineWidth=1,o.beginPath(),o.moveTo(c[t].x,c[t].y),o.lineTo(c[e].x,c[e].y),o.stroke())}}window.addEventListener("resize",()=>{d.width=window.innerWidth,d.height=window.innerHeight,i.radius=d.height/220*(d.width/220),e()}),window.addEventListener("mouseout",()=>{i.x=void 0,i.y=void 0}),e(),t()},showMapIfLoaded=function(){const e=document.querySelector(".find-us__map");let t=!1;e.classList.add("find-us__map--unloaded"),e.addEventListener("load",()=>{e.classList.remove("find-us__map--unloaded"),e.style.animationDelay="0s",t=!0}),setTimeout(()=>{!1===t&&(e.src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d9990.243353479938!2d22.5520591!3d51.2455824!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x472257c6514cc25f%3A0x3cf1e3663a22bae7!2sTEN%20VAPE%20-%20VAPE%20SHOP%20LUBLIN!5e0!3m2!1spl!2spl!4v1677160856537!5m2!1spl!2spl")},1e3)};mobileNavigationHandler(),displayFooterYear(),facebookMessenger(),showAgeVeryficationModal(),cookiesModal(),canvasBg(),showMapIfLoaded();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmQtdXMuanMiXSwibmFtZXMiOlsic2V0Q29va2llIiwiY25hbWUiLCJjdmFsdWUiLCJleGRheXMiLCJkIiwiRGF0ZSIsImV4cGlyZXMiLCJzZXRUaW1lIiwidG9VVENTdHJpbmciLCJjb29raWUiLCJnZXRDb29raWUiLCJsZXQiLCJuYW1lIiwiZG9jdW1lbnQiLCJzcGxpdCIsImNhIiwiaSIsImMiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwibGVuZ3RoIiwic2hvd0FnZVZlcnlmaWNhdGlvbk1vZGFsIiwibW9kYWxDb250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJjbGFzc0xpc3QiLCJpbm5lckhUTUwiLCJhZGQiLCJtb2RhbEhUTUwiLCJidG5EZW5pZWRBZ2UiLCJxdWVyeVNlbGVjdG9yIiwiYnRuQ29uZmlybUFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJib2R5Iiwib3ZlcmZsb3ciLCJzZXRUaW1lb3V0Iiwib3BhY2l0eSIsImNsb3Nlc3QiLCJyZW1vdmUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJhcHBlbmQiLCJjb29raWVzTW9kYWwiLCJtb2RhbCIsImJ0biIsImFjY2VwdENvb2tpZXMiLCJoYW1idXJnZXJFbCIsIm1vYmlsZU5hdmlnYXRpb25IYW5kbGVyIiwibmF2YmFyTWVudUVsIiwiZmFjZWJvb2tNZXNzZW5nZXIiLCJ0b2dnbGUiLCJkaXNwbGF5Rm9vdGVyWWVhciIsImNvbnRhaW5zIiwieWVhclNwYW4iLCJ0ZXh0Q29udGVudCIsImN1cnJlbnRZZWFyIiwiaW5pdCIsInhmYm1sIiwiZ2V0RnVsbFllYXIiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNhbnZhcyIsImhlaWdodCIsImdldEVsZW1lbnRCeUlkIiwiY2hhdGJveCIsInNldEF0dHJpYnV0ZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJGQiIsInZlcnNpb24iLCJzIiwicGFydGljbGVzQXJyYXkiLCJpZCIsImpzIiwic3JjIiwieCIsImZqcyIsIm1vdXNlIiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsIlBhcnRpY2xlIiwiaW5uZXJIZWlnaHQiLCJkaXJlY3Rpb25ZIiwieSIsInJhZGl1cyIsImUiLCJiZWdpblBhdGgiLCJhcmMiLCJ1cGRhdGUiLCJkaXJlY3Rpb25YIiwic2l6ZSIsImNvbG9yIiwidGhpcyIsImRyYXciLCJkaXN0YW5jZSIsInNxcnQiLCJkeSIsImZpbGwiLCJkeCIsIm51bWJlck9mUGFydGljbGVzIiwiTWF0aCIsInB1c2giLCJiIiwib3BhY2l0eVZhbHVlIiwicmFuZG9tIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJhIiwiYW5pbWF0ZSIsInNob3dNYXBJZkxvYWRlZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsZWFyUmVjdCIsIm1hcCIsIm1hcExvYWRlZCIsImNhbnZhc0JnIiwiYW5pbWF0aW9uRGVsYXkiXSwibWFwcGluZ3MiOiJhQUVBLFNBQUFBLFVBQUFDLEVBQUFDLEVBQUFDLEdBR0UsSUFBTUMsRUFBSSxJQUFJQyxLQUFkQyxHQURGRixFQUFBRyxRQUFTUCxFQUFBQSxRQUFVQyxFQUFlRSxHQUFSRCxFQUFjLEdBQUUsR0FBQSxHQUFBLEVBQzFCRyxXQUFNRCxFQUFBSSxZQUFBLEdBQ3BCSixTQUFTSyxPQUFZUixNQUFTQyxLQUFVSSxVQUcxQyxDQUFBLFNBQUFJLFVBQUFULEdBRUFVLElBQUFDLEVBQVNGLEVBQUFBLElBQ0hFLEVBQUlDLFNBQU1aLE9BQVFhLE1BQUEsR0FBQSxFQUN0QixJQUFJQyxJQUFLRixFQUFBQSxFQUFBQSxFQUFTSixFQUFBQSxPQUFhTyxDQUFBLEdBQUksQ0FDbkNMLElBQUtNLEVBQUtGLEVBQUdDLEdBQ1gsS0FBYSxNQUFSQyxFQUFHRixPQUFLLENBQUEsR0FDYkUsRUFBQUEsRUFBUUMsVUFBVSxDQUFBLEVBRWxCLEdBQUEsSUFBQUQsRUFBQUUsUUFBQVAsQ0FBQSxFQUNBLE9BQU1PLEVBQUFBLFVBQWFQLEVBQU1RLE9BQUVILEVBQUFHLE1BQUEs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Q0FBQUEsRUExQkVvQyxFQUFJLEVBNkJOcUQsRUFBQSxDQUNBTSxFQTFCTUwsZ0JBQWtCLFdBQ3RCLE1BQU1HLEVBQU1yRyxTQUFTaUIsY0FBYyxlQUFlLEVBQ2xEbkIsSUFBSXdHLEVBQVksQ0FBQSxFQUVoQkQsRUFBSXpGLFVBQVVFLElBQUksd0JBQXdCLEVBQzFDdUYsRUFBSWxGLGlCQUFpQixPQUFRLEtBQzNCa0YsRUFBSXpGLFVBQVVhLE9BQU8sd0JBQXdCLEVBQzdDNEUsRUFBSTFGLE1BQU02RixlQUFpQixLQUMzQkYsRUFBWSxDQUFBLENBQ2QsQ0FBQyxFQUVEaEYsV0FBVyxLQUNTLENBQUEsSUFBZGdGLElBQ0ZELEVBQUl4QyxJQUNGLHFRQUNOLEVBQUcsR0FBSSxDQUNULEVBR0ExQix3QkFBdUIsRUFDdkJJLGtCQUFpQixFQUNqQkYsa0JBQWlCLEVBQ2pCN0IseUJBQXdCLEVBQ3hCc0IsYUFBWSxFQUdaeUUsU0FBUSxFQUNSTCxnQkFBZSIsImZpbGUiOiJmaW5kLXVzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS07XHJcblxyXG5mdW5jdGlvbiBzZXRDb29raWUoY25hbWUsIGN2YWx1ZSwgZXhkYXlzKSB7XHJcbiAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XHJcbiAgZC5zZXRUaW1lKGQuZ2V0VGltZSgpICsgZXhkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCk7XHJcbiAgbGV0IGV4cGlyZXMgPSBgZXhwaXJlcz0ke2QudG9VVENTdHJpbmcoKX1gO1xyXG4gIGRvY3VtZW50LmNvb2tpZSA9IGAke2NuYW1lfT0ke2N2YWx1ZX07JHtleHBpcmVzfTtwYXRoPS9gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb29raWUoY25hbWUpIHtcclxuICBsZXQgbmFtZSA9IGAke2NuYW1lfT1gO1xyXG4gIGxldCBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBjID0gY2FbaV07XHJcbiAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT09ICcgJykge1xyXG4gICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XHJcbiAgICB9XHJcbiAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gJyc7XHJcbn1cclxuXHJcbmNvbnN0IHNob3dBZ2VWZXJ5ZmljYXRpb25Nb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyBDaGVjayBDb29raWVcclxuICBpZiAoZ2V0Q29va2llKCdhZ2VPdmVyMTgnKSA9PT0gJ3llcycpIHJldHVybjtcclxuXHJcbiAgLy8gQ3JlYXRpbmcgJiBBZGQgbW9kYWxcclxuICBjb25zdCBtb2RhbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGNvbnN0IG1vZGFsSFRNTCA9IGA8ZGl2IGNsYXNzPVwibW9kYWwtYWdlXCI+XHJcbjxkaXYgY2xhc3M9XCJtb2RhbC1hZ2VfX2NvbnRlbnRcIj5cclxuICAgIDxpbWcgY2xhc3M9XCJtb2RhbC1hZ2VfX2xvZ29cIiBzcmM9XCIuL2ltZy90ZW52YXBlLWxvZ28tdGV4dC5wbmdcIiBhbHQ9XCJcIj5cclxuICAgIDxwIGNsYXNzPVwibW9kYWwtYWdlX190ZXh0XCI+Q3p5IG1hc3ogc2tvxYRjem9uZSAxOCBsYXQ/PC9wPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWFnZV9fYnRuc1wiPlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLS1jb25maXJtXCI+VGFrPC9idXR0b24+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tLWRlbmllZFwiPk5pZTwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8cCBjbGFzcz1cIm1vZGFsLWFnZV9fdGV4dC1zbWFsbFwiPldjaG9kesSFYyBuYSBzdHJvbsSZIG5hc3plZ28gc2tsZXB1IHBvdHdpZXJkemFzeiwgxbxlIGplc3RlxZsgb3NvYsSFXHJcbiAgICAgICAgcGXFgm5vbGV0bmnEhS48L3A+XHJcbjwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cclxuICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgbW9kYWxDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbW9kYWwtY29udGFpbmVyJyk7XHJcbiAgbW9kYWxDb250YWluZXIuaW5uZXJIVE1MID0gbW9kYWxIVE1MO1xyXG5cclxuICAvLyBNb2RhbCBiZWhhdmlvclxyXG4gIGNvbnN0IGJ0bkNvbmZpcm1BZ2UgPSBtb2RhbENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYnRuLS1jb25maXJtJyk7XHJcbiAgY29uc3QgYnRuRGVuaWVkQWdlID0gbW9kYWxDb250YWluZXIucXVlcnlTZWxlY3RvcignLmJ0bi0tZGVuaWVkJyk7XHJcblxyXG4gIGJ0bkNvbmZpcm1BZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBzZXRDb29raWUoJ2FnZU92ZXIxOCcsICd5ZXMnLCA3KTtcclxuICAgIG1vZGFsQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBidG5Db25maXJtQWdlLmNsb3Nlc3QoJy5tb2RhbC1jb250YWluZXInKS5yZW1vdmUoKTtcclxuICAgIH0sIDEwMDApO1xyXG4gIH0pO1xyXG5cclxuICBidG5EZW5pZWRBZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwczovL3d3dy5nb29nbGUucGwnO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5ib2R5LmFwcGVuZChtb2RhbENvbnRhaW5lcik7XHJcbn07XHJcblxyXG5jb25zdCBjb29raWVzTW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gQ2hlY2sgY29va2llc1xyXG4gIGlmIChnZXRDb29raWUoJ2Nvb2tpZXMnKSA9PT0gJ3llcycpIHJldHVybjtcclxuXHJcbiAgLy8gQ3JlYXRlIG1vZGFsXHJcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnbW9kYWwtY29va2llcycpO1xyXG4gIG1vZGFsLmlubmVySFRNTCA9IGA8cCBjbGFzcz1cIm1vZGFsLWNvb2tpZXNfX3RleHRcIj5UYSBzdHJvbmEgd3lrb3J6eXN0dWplIHBsaWtpIGNvb2tpZS4gVcW8eXdhbXkgaW5mb3JtYWNqaSB6YXBpc2FueWNoIHphIHBvbW9jxIVcclxuICBwbGlrw7N3IGNvb2tpZXMgdyBjZWx1IHphcGV3bmllbmlhIG1ha3N5bWFsbmVqIHd5Z29keSB3IGtvcnp5c3Rhbml1IHogbmFzemVnbyBzZXJ3aXN1LjwvcD48YnV0dG9uIGNsYXNzPVwibW9kYWwtY29va2llc19fYnRuIGJ0biBidG4tLWNvbmZpcm1cIj5Ba2NlcHR1asSZPC9idXR0b24+YDtcclxuXHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmQobW9kYWwpO1xyXG5cclxuICAvLyBNb2RhbCBCZWhhdmlvclxyXG4gIGNvbnN0IGJ0biA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpO1xyXG5cclxuICBjb25zdCBhY2NlcHRDb29raWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgc2V0Q29va2llKCdjb29raWVzJywgJ3llcycsIDM2NSk7XHJcbiAgICBtb2RhbC5yZW1vdmUoKTtcclxuICB9O1xyXG5cclxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhY2NlcHRDb29raWVzKTtcclxufTtcclxuXHJcbi8vIE5hdmlnYXRpb24gaGFuZGxpbmc7XHJcbmNvbnN0IG1vYmlsZU5hdmlnYXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGhhbWJ1cmdlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpO1xyXG4gIGNvbnN0IG5hdmJhck1lbnVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX21lbnUnKTtcclxuXHJcbiAgY29uc3QgbW9iaWxlTWVudUhhbmRsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIG5hdmJhck1lbnVFbC5jbGFzc0xpc3QudG9nZ2xlKCduYXZiYXJfX21lbnUtLWFjdGl2ZScpO1xyXG4gICAgaGFtYnVyZ2VyRWwuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XHJcbiAgICBpZiAobmF2YmFyTWVudUVsLmNsYXNzTGlzdC5jb250YWlucygnbmF2YmFyX19tZW51LS1hY3RpdmUnKSkge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGhhbWJ1cmdlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW9iaWxlTWVudUhhbmRsZSk7XHJcbn07XHJcblxyXG4vLyBEaXNwbGF5IGZvb3RlciB5ZWFyXHJcbmNvbnN0IGRpc3BsYXlGb290ZXJZZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IHllYXJTcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlcl9feWVhcicpO1xyXG4gIGNvbnN0IGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG5cclxuICB5ZWFyU3Bhbi50ZXh0Q29udGVudCA9IGN1cnJlbnRZZWFyO1xyXG59O1xyXG5cclxuLy8gRmFjZWJvb2sgbWVzc2VuZ2VyXHJcbmNvbnN0IGZhY2Vib29rTWVzc2VuZ2VyID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGNoYXRib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmItY3VzdG9tZXItY2hhdCcpO1xyXG4gIGNoYXRib3guc2V0QXR0cmlidXRlKCdwYWdlX2lkJywgJzEwOTc2MzIwNTEzNjYzNycpO1xyXG4gIGNoYXRib3guc2V0QXR0cmlidXRlKCdhdHRyaWJ1dGlvbicsICdiaXpfaW5ib3gnKTtcclxuXHJcbiAgd2luZG93LmZiQXN5bmNJbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgRkIuaW5pdCh7XHJcbiAgICAgIHhmYm1sOiB0cnVlLFxyXG4gICAgICB2ZXJzaW9uOiAndjE2LjAnLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgKGZ1bmN0aW9uIChkLCBzLCBpZCkge1xyXG4gICAgbGV0IGpzO1xyXG4gICAgY29uc3QgZmpzID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZShzKVswXTtcclxuICAgIGlmIChkLmdldEVsZW1lbnRCeUlkKGlkKSkgcmV0dXJuO1xyXG4gICAganMgPSBkLmNyZWF0ZUVsZW1lbnQocyk7XHJcbiAgICBqcy5pZCA9IGlkO1xyXG4gICAganMuc3JjID0gJ2h0dHBzOi8vY29ubmVjdC5mYWNlYm9vay5uZXQvcGxfUEwvc2RrL3hmYm1sLmN1c3RvbWVyY2hhdC5qcyc7XHJcbiAgICBmanMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoanMsIGZqcyk7XHJcbiAgfSkoZG9jdW1lbnQsICdzY3JpcHQnLCAnZmFjZWJvb2stanNzZGsnKTtcclxufTtcclxuXHJcbi8vICEgQ2FudmFzXHJcbmNvbnN0IGNhbnZhc0JnID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMxJyk7XHJcblxyXG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuICBsZXQgcGFydGljbGVzQXJyYXk7XHJcblxyXG4gIC8vIGdldCBtb3VzZSBwb3NpdGlvblxyXG4gIGNvbnN0IG1vdXNlID0ge1xyXG4gICAgeDogbnVsbCxcclxuICAgIHk6IG51bGwsXHJcbiAgICByYWRpdXM6IChjYW52YXMuaGVpZ2h0IC8gMjIwKSAqIChjYW52YXMud2lkdGggLyAyMjApLFxyXG4gIH07XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xyXG4gICAgbW91c2UueCA9IGUueDtcclxuICAgIG1vdXNlLnkgPSBlLnk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIGNyZWF0ZSBwYXJ0aWNsZVxyXG5cclxuICBjbGFzcyBQYXJ0aWNsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBkaXJlY3Rpb25YLCBkaXJlY3Rpb25ZLCBzaXplLCBjb2xvcikge1xyXG4gICAgICB0aGlzLnggPSB4O1xyXG4gICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICB0aGlzLmRpcmVjdGlvblggPSBkaXJlY3Rpb25YO1xyXG4gICAgICB0aGlzLmRpcmVjdGlvblkgPSBkaXJlY3Rpb25ZO1xyXG4gICAgICB0aGlzLnNpemUgPSBzaXplO1xyXG4gICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWV0aG9kIHRvIGRyYXcgaW5kaXZpZHVhbCBwYXJ0aWNsZVxyXG4gICAgZHJhdygpIHtcclxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICBjdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnNpemUsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSk7XHJcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzFjY2E1OSc7XHJcbiAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgcGFydGljbGUgcG9zaXRpb24sIGNoZWNrIG1vdXNlIHBvc2l0aW9uLCBtb3ZlIHRoZSBwYXJ0aWNsZSwgZHJhdyB0aGUgcGFydGljbGVcclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgLy8gY2hlY2sgaWYgIHBhcnRpY2xlIGlzIHN0aWxsIHdpdGhpbiBjYW52YXNcclxuICAgICAgaWYgKHRoaXMueCA+IGNhbnZhcy53aWR0aCB8fCB0aGlzLnggPCAwKSB7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25YID0gLXRoaXMuZGlyZWN0aW9uWDtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy55ID4gY2FudmFzLmhlaWdodCB8fCB0aGlzLnkgPCAwKSB7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25ZID0gLXRoaXMuZGlyZWN0aW9uWTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gY2hlY2sgY29sbGlzaW9uIGRldGVjdGlvbiAtIG1vdXNlIHBvc2l0aW9uIC8gcGFydGljbGUgcG9zaXRpb25cclxuICAgICAgY29uc3QgZHggPSBtb3VzZS54IC0gdGhpcy54O1xyXG4gICAgICBjb25zdCBkeSA9IG1vdXNlLnkgLSB0aGlzLnk7XHJcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgICAgaWYgKGRpc3RhbmNlIDwgbW91c2UucmFkaXVzICsgdGhpcy5zaXplKSB7XHJcbiAgICAgICAgaWYgKG1vdXNlLnggPCB0aGlzLnggJiYgdGhpcy54IDwgY2FudmFzLndpZHRoIC0gdGhpcy5zaXplICogMTApIHtcclxuICAgICAgICAgIHRoaXMueCArPSAxMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1vdXNlLnggPiB0aGlzLnggJiYgdGhpcy54ID4gdGhpcy5zaXplICogMTApIHtcclxuICAgICAgICAgIHRoaXMueCAtPSAxMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1vdXNlLnkgPCB0aGlzLnkgJiYgdGhpcy55IDwgY2FudmFzLmhlaWdodCAtIHRoaXMuc2l6ZSAqIDEwKSB7XHJcbiAgICAgICAgICB0aGlzLnkgKz0gMTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtb3VzZS55ID4gdGhpcy55ICYmIHRoaXMueSA+IHRoaXMuc2l6ZSAqIDEwKSB7XHJcbiAgICAgICAgICB0aGlzLnkgLT0gMTA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBtb3ZlIHBhcnRpY2xlXHJcbiAgICAgIHRoaXMueCArPSB0aGlzLmRpcmVjdGlvblg7XHJcbiAgICAgIHRoaXMueSArPSB0aGlzLmRpcmVjdGlvblk7XHJcblxyXG4gICAgICAvLyBkcmF3IHBhcnRpY2xlXHJcbiAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gY3JlYXRlIHBhcnRpY2xlIGFycmF5XHJcbiAgY29uc3QgaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHBhcnRpY2xlc0FycmF5ID0gW107XHJcbiAgICBjb25zdCBudW1iZXJPZlBhcnRpY2xlcyA9IChjYW52YXMuaGVpZ2h0ICogY2FudmFzLndpZHRoKSAvIDIwMDAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZlBhcnRpY2xlczsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHNpemUgPSBNYXRoLnJhbmRvbSgpICogNSArIDE7XHJcbiAgICAgIGNvbnN0IHggPSBNYXRoLnJhbmRvbSgpICogKHdpbmRvdy5pbm5lcldpZHRoIC0gc2l6ZSAqIDIgLSBzaXplICogMikgKyBzaXplICogMjtcclxuICAgICAgY29uc3QgeSA9IE1hdGgucmFuZG9tKCkgKiAod2luZG93LmlubmVySGVpZ2h0IC0gc2l6ZSAqIDIgLSBzaXplICogMikgKyBzaXplICogMjtcclxuICAgICAgY29uc3QgZGlyZWN0aW9uWCA9IE1hdGgucmFuZG9tKCkgKiAwLjI7XHJcbiAgICAgIGNvbnN0IGRpcmVjdGlvblkgPSBNYXRoLnJhbmRvbSgpICogMC4yO1xyXG4gICAgICBjb25zdCBjb2xvciA9ICcjMWNjYTU5JztcclxuXHJcbiAgICAgIHBhcnRpY2xlc0FycmF5LnB1c2gobmV3IFBhcnRpY2xlKHgsIHksIGRpcmVjdGlvblgsIGRpcmVjdGlvblksIHNpemUsIGNvbG9yKSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gY2hlY2sgaWYgcGFydGljbGVzIGFyZSBjbG9zZSBlbm91Z2ggdG8gZHJhdyBsaW5lIGJldHdlZW4gdGhlbVxyXG5cclxuICBjb25zdCBjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IG9wYWNpdHlWYWx1ZSA9IDE7XHJcbiAgICBmb3IgKGxldCBhID0gMDsgYSA8IHBhcnRpY2xlc0FycmF5Lmxlbmd0aDsgYSsrKSB7XHJcbiAgICAgIGZvciAobGV0IGIgPSAwOyBiIDwgcGFydGljbGVzQXJyYXkubGVuZ3RoOyBiKyspIHtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9XHJcbiAgICAgICAgICAocGFydGljbGVzQXJyYXlbYV0ueCAtIHBhcnRpY2xlc0FycmF5W2JdLngpICogKHBhcnRpY2xlc0FycmF5W2FdLnggLSBwYXJ0aWNsZXNBcnJheVtiXS54KSArXHJcbiAgICAgICAgICAocGFydGljbGVzQXJyYXlbYV0ueSAtIHBhcnRpY2xlc0FycmF5W2JdLnkpICogKHBhcnRpY2xlc0FycmF5W2FdLnkgLSBwYXJ0aWNsZXNBcnJheVtiXS55KTtcclxuICAgICAgICBpZiAoZGlzdGFuY2UgPCAoKGNhbnZhcy53aWR0aCAvIDcpICogY2FudmFzLmhlaWdodCkgLyA3KSB7XHJcbiAgICAgICAgICBvcGFjaXR5VmFsdWUgPSAxIC0gZGlzdGFuY2UgLyAxNTAwMDtcclxuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGByZ2JhKDI4LCAyMDIsIDg5LCR7b3BhY2l0eVZhbHVlfSlgO1xyXG4gICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICBjdHgubW92ZVRvKHBhcnRpY2xlc0FycmF5W2FdLngsIHBhcnRpY2xlc0FycmF5W2FdLnkpO1xyXG4gICAgICAgICAgY3R4LmxpbmVUbyhwYXJ0aWNsZXNBcnJheVtiXS54LCBwYXJ0aWNsZXNBcnJheVtiXS55KTtcclxuICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBhbmltYXRpb24gbG9vcFxyXG5cclxuICBjb25zdCBhbmltYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRpY2xlc0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHBhcnRpY2xlc0FycmF5W2ldLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgY29ubmVjdCgpO1xyXG4gIH07XHJcblxyXG4gIC8vIHJlc2l6ZSBldmVudFxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBtb3VzZS5yYWRpdXMgPSAoY2FudmFzLmhlaWdodCAvIDIyMCkgKiAoY2FudmFzLndpZHRoIC8gMjIwKTtcclxuICAgIGluaXQoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gbW91c2Ugb3V0IGV2ZW50XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xyXG4gICAgbW91c2UueCA9IHVuZGVmaW5lZDtcclxuICAgIG1vdXNlLnkgPSB1bmRlZmluZWQ7XHJcbiAgfSk7XHJcblxyXG4gIGluaXQoKTtcclxuICBhbmltYXRlKCk7XHJcbn07XHJcblxyXG5jb25zdCBzaG93TWFwSWZMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgbWFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpbmQtdXNfX21hcCcpO1xyXG4gIGxldCBtYXBMb2FkZWQgPSBmYWxzZTtcclxuXHJcbiAgbWFwLmNsYXNzTGlzdC5hZGQoJ2ZpbmQtdXNfX21hcC0tdW5sb2FkZWQnKTtcclxuICBtYXAuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgIG1hcC5jbGFzc0xpc3QucmVtb3ZlKCdmaW5kLXVzX19tYXAtLXVubG9hZGVkJyk7XHJcbiAgICBtYXAuc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSAnMHMnO1xyXG4gICAgbWFwTG9hZGVkID0gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBpZiAobWFwTG9hZGVkID09PSBmYWxzZSlcclxuICAgICAgbWFwLnNyYyA9XHJcbiAgICAgICAgJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9lbWJlZD9wYj0hMW0xNCExbTghMW0zITFkOTk5MC4yNDMzNTM0Nzk5MzghMmQyMi41NTIwNTkxITNkNTEuMjQ1NTgyNCEzbTIhMWkxMDI0ITJpNzY4ITRmMTMuMSEzbTMhMW0yITFzMHg0NzIyNTdjNjUxNGNjMjVmJTNBMHgzY2YxZTM2NjNhMjJiYWU3ITJzVEVOJTIwVkFQRSUyMC0lMjBWQVBFJTIwU0hPUCUyMExVQkxJTiE1ZTAhM20yITFzcGwhMnNwbCE0djE2NzcxNjA4NTY1MzchNW0yITFzcGwhMnNwbCc7XHJcbiAgfSwgMTAwMCk7XHJcbn07XHJcblxyXG4vLyBNYWluIGZ1bmN0aW9uc1xyXG5tb2JpbGVOYXZpZ2F0aW9uSGFuZGxlcigpO1xyXG5kaXNwbGF5Rm9vdGVyWWVhcigpO1xyXG5mYWNlYm9va01lc3NlbmdlcigpO1xyXG5zaG93QWdlVmVyeWZpY2F0aW9uTW9kYWwoKTtcclxuY29va2llc01vZGFsKCk7XHJcblxyXG4vLyBTZWNvbmRhcnkgZnVuY3Rpb25zXHJcbmNhbnZhc0JnKCk7XHJcbnNob3dNYXBJZkxvYWRlZCgpO1xyXG4iXX0=
