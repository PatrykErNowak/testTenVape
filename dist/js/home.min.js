"use strict";function setCookie(e,t,o){var n=new Date,o=(n.setTime(n.getTime()+24*o*60*60*1e3),"expires="+n.toUTCString());document.cookie=e+`=${t};${o};path=/`}function getCookie(e){var o=e+"=",n=document.cookie.split(";");for(let t=0;t<n.length;t++){let e=n[t];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(o))return e.substring(o.length,e.length)}return""}const mobileNavigationHandler=function(){const e=document.querySelector(".hamburger"),t=document.querySelector(".navbar__menu");e.addEventListener("click",function(){t.classList.toggle("navbar__menu--active"),e.classList.toggle("is-active"),t.classList.contains("navbar__menu--active")?document.body.style.overflow="hidden":document.body.style.overflow="auto"})},displayFooterYear=function(){var e=document.querySelector(".footer__year"),t=(new Date).getFullYear();e.textContent=t},facebookMessenger=function(){var e,t,o,n=document.getElementById("fb-customer-chat");n.setAttribute("page_id","109763205136637"),n.setAttribute("attribution","biz_inbox"),window.fbAsyncInit=function(){FB.init({xfbml:!0,version:"v16.0"})},n=document,e="script",t="facebook-jssdk",o=n.getElementsByTagName(e)[0],n.getElementById(t)||((n=n.createElement(e)).id=t,n.src="https://connect.facebook.net/pl_PL/sdk/xfbml.customerchat.js",o.parentNode.insertBefore(n,o))},scrollToTop=function(){const t=document.querySelector(".btn__scroll-to-top");var e=document.querySelector("header");new IntersectionObserver(function(e){var[e]=e;e.isIntersecting?t.classList.remove("active"):t.classList.add("active")},{root:null,threshold:.3}).observe(e),t.addEventListener("click",function(){document.documentElement.scrollTo({top:0})})},scrollToMainContent=function(){var e=document.querySelector(".header__btn-scrolldown");const t=document.querySelector("main");e.addEventListener("click",()=>t.scrollIntoView({behavior:"smooth"}))},sectionAnimationHandle=function(){var e=document.querySelectorAll(".section");const t=new IntersectionObserver(function(e,t){var[e]=e;e.isIntersecting&&(e.target.classList.remove("section--hidden"),t.unobserve(e.target))},{root:null,rootMargin:"-100px",threshold:.05});e.forEach(e=>{e.classList.add("section--hidden"),t.observe(e)})},videoHandler=function(){var e=document.querySelector(".header__video-bg video"),t=e.dataset.desktopSrc;e.playbackRate=.8,1200<=window.screen.width&&(e.src=t)},animated3DLogo=function(){const n=document.querySelector(".about-us__logo");window.addEventListener("mousemove",e=>{var e={x:e.x,y:e.y},t={x:window.innerWidth,y:window.innerHeight},o=(e,t,o)=>(e/t*2-1)*o;n.style.transform=`perspective(800px) rotateX(${-o(e.y,t.y,25)}deg) rotateY(${o(e.x,t.x,25)}deg) scale3d(1.03, 1.03, 1.03)`})},accordionFAQSection=function(){document.querySelector(".faq__items-c").addEventListener("click",e=>{var t,o;e.target.closest(".faq__item")&&(t=(e=e.target.closest(".faq__item")).querySelector(".faq__item-btn"),o=e.querySelector(".faq__item-answer"),e.classList.toggle("faq__item--active"),e.classList.contains("faq__item--active")?(o.style.maxHeight=o.scrollHeight+"px",t.innerHTML='<i class="fa-solid fa-circle-minus"></i>'):(o.style.maxHeight="0",t.innerHTML='<i class="fa-solid fa-circle-plus"></i>',t.blur()))})},InvokingMessengerChatbyFAQBtn=function(){document.querySelector(".faq__footer-btn");document.querySelectorAll('[data-type="messenger"').forEach(e=>e.addEventListener("click",()=>FB.CustomerChat.showDialog()))},instagramCurator=function(){var e=document,t=e.createElement("script");t.async=1,t.charset="UTF-8",t.src="https://cdn.curator.io/published/1e117b9f-ba27-4dfd-b456-042976b52df7.js",(e=e.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e)},TestimonialsHandler=function(){new Swiper(".mySwiper",{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!1,initialSlide:3,coverflowEffect:{rotate:0,scale:1,stretch:-10,depth:725,modifier:1,slideShadows:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})},showAgeVeryficationModal=function(){if("yes"!==getCookie("ageOver18")){const t=document.createElement("div");document.body.style.overflow="hidden",t.classList.add("modal-container"),t.innerHTML=`<div class="modal-age">
<div class="modal-age__content">
    <img class="modal-age__logo" src="./img/tenvape-logo-text.png" alt="">
    <p class="modal-age__text">Czy masz skończone 18 lat?</p>
    <div class="modal-age__btns">
        <button class="btn btn--confirm">Tak</button>
        <button class="btn btn--denied">Nie</button>
    </div>
    <p class="modal-age__text-small">Wchodząc na stronę naszego sklepu potwierdzasz, że jesteś osobą
        pełnoletnią.</p>
</div>
</div>`;const o=t.querySelector(".btn--confirm");var e=t.querySelector(".btn--denied");o.addEventListener("click",()=>{setCookie("ageOver18","yes"),t.style.opacity=0,document.body.style.overflow="auto",setTimeout(()=>{o.closest(".modal-container").remove()},1e3)}),e.addEventListener("click",()=>{window.location.href="https://www.google.pl"}),document.body.append(t)}};mobileNavigationHandler(),displayFooterYear(),facebookMessenger(),scrollToTop(),showAgeVeryficationModal(),scrollToMainContent(),animated3DLogo(),sectionAnimationHandle(),videoHandler(),instagramCurator(),TestimonialsHandler(),accordionFAQSection(),InvokingMessengerChatbyFAQBtn();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuanMiXSwibmFtZXMiOlsic2V0Q29va2llIiwiY25hbWUiLCJjdmFsdWUiLCJleGRheXMiLCJkIiwiRGF0ZSIsImV4cGlyZXMiLCJzZXRUaW1lIiwidG9VVENTdHJpbmciLCJjb29raWUiLCJnZXRDb29raWUiLCJsZXQiLCJuYW1lIiwiZG9jdW1lbnQiLCJzcGxpdCIsImNhIiwiaSIsImMiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwibGVuZ3RoIiwibW9iaWxlTmF2aWdhdGlvbkhhbmRsZXIiLCJxdWVyeVNlbGVjdG9yIiwiaGFtYnVyZ2VyRWwiLCJhZGRFdmVudExpc3RlbmVyIiwibmF2YmFyTWVudUVsIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiY29udGFpbnMiLCJib2R5Iiwic3R5bGUiLCJvdmVyZmxvdyIsImRpc3BsYXlGb290ZXJZZWFyIiwiY3VycmVudFllYXIiLCJnZXRGdWxsWWVhciIsInllYXJTcGFuIiwidGV4dENvbnRlbnQiLCJjaGF0Ym94IiwiY3JlYXRlRWxlbWVudCIsImZqcyIsInNldEF0dHJpYnV0ZSIsImdldEVsZW1lbnRCeUlkIiwid2luZG93IiwiZmJBc3luY0luaXQiLCJpbml0IiwidmVyc2lvbiIsIkZCIiwieGZibWwiLCJzY3JvbGxUb1RvcCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicyIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJqcyIsImlkIiwic3JjIiwiZW50cmllcyIsImJ0biIsImlzSW50ZXJzZWN0aW5nIiwiYWRkIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyeSIsInNjcmVlbk9ic2VydmUiLCJyZW1vdmUiLCJyb290Iiwib2JzZXJ2ZSIsIm1haW5Db250ZW50Iiwic2Nyb2xsVG9NYWluQ29udGVudCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbFRvIiwidG9wIiwidGFyZ2V0U2VjdGlvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzaG93U2VjdGlvbiIsIm9ic2VydmVyIiwic2VjdGlvbkFuaW1hdGlvbkhhbmRsZSIsIm9wdGlvbnMiLCJvYnNlcnZlU2VjdGlvbiIsInRocmVzaG9sZCIsInNlY3Rpb25zIiwiZm9yRWFjaCIsInNlY3Rpb24iLCJ0YXJnZXQiLCJyb290TWFyZ2luIiwidmlkZW9IYW5kbGVyIiwiaGVhZGVyVmlkZW9FbCIsIndpZHRoIiwidmlkZW9EZXNrdG9wU3JjIiwiZGF0YXNldCIsImRlc2t0b3BTcmMiLCJwbGF5YmFja1JhdGUiLCJpbm5lckhlaWdodCIsInkiLCJhbmltYXRlZDNETG9nbyIsImltYWdlRWwiLCJlIiwibW91c2UiLCJ4IiwiYWNjb3JkaW9uRkFRU2VjdGlvbiIsImNsb3Nlc3QiLCJpbm5lcldpZHRoIiwiaXRlbSIsImVsQXhpc0RpbWVuc2lvbiIsIm1heERlZ3JlZSIsImFuc3dlciIsInNjcm9sbEhlaWdodCIsInRyYW5zZm9ybSIsImNhbGNSb3RhdGVERUciLCJpbWFnZSIsImlubmVySFRNTCIsIm1heEhlaWdodCIsImNoYXJzZXQiLCJlZmZlY3QiLCJjZW50ZXJlZFNsaWRlcyIsImxvb3AiLCJpbml0aWFsU2xpZGUiLCJDdXN0b21lckNoYXQiLCJzaG93RGlhbG9nIiwibmV4dEVsIiwic2hvd0FnZVZlcnlmaWNhdGlvbk1vZGFsIiwiYXN5bmMiLCJUZXN0aW1vbmlhbHNIYW5kbGVyIiwiU3dpcGVyIiwiZ3JhYkN1cnNvciIsIm1vZGFsQ29udGFpbmVyIiwiY292ZXJmbG93RWZmZWN0Iiwicm90YXRlIiwic2NhbGUiLCJidG5Db25maXJtQWdlIiwic3RyZXRjaCIsImJ0bkRlbmllZEFnZSIsIm5hdmlnYXRpb24iLCJwcmV2RWwiLCJJbnZva2luZ01lc3NlbmdlckNoYXRieUZBUUJ0biIsIm9wYWNpdHkiLCJzZXRUaW1lb3V0IiwibG9jYXRpb24iLCJocmVmIiwiYXBwZW5kIiwiZmFjZWJvb2tNZXNzZW5nZXIiLCJpbnN0YWdyYW1DdXJhdG9yIl0sIm1hcHBpbmdzIjoiYUFPQSxTQUFBQSxVQUFBQyxFQUFBQyxFQUFBQyxHQUdFLElBQU1DLEVBQUksSUFBSUMsS0FBZEMsR0FERkYsRUFBQUcsUUFBU1AsRUFBQUEsUUFBVUMsRUFBZUUsR0FBUkQsRUFBYyxHQUFFLEdBQUEsR0FBQSxFQUMxQkcsV0FBTUQsRUFBQUksWUFBQSxHQUNwQkosU0FBU0ssT0FBWVIsTUFBU0MsS0FBVUksVUFHMUMsQ0FBQSxTQUFBSSxVQUFBVCxHQUVBVSxJQUFBQyxFQUFTRixFQUFBQSxJQUNIRSxFQUFJQyxTQUFNWixPQUFRYSxNQUFBLEdBQUEsRUFDdEIsSUFBSUMsSUFBS0YsRUFBQUEsRUFBQUEsRUFBU0osRUFBQUEsT0FBYU8sQ0FBQSxHQUFJLENBQ25DTCxJQUFLTSxFQUFLRixFQUFHQyxHQUNYLEtBQWEsTUFBUkMsRUFBR0YsT0FBSyxDQUFBLEdBQ2JFLEVBQUFBLEVBQVFDLFVBQVUsQ0FBQSxFQUVsQixHQUFBLElBQUFELEVBQUFFLFFBQUFQLENBQUEsRUFDQSxPQUFNTyxFQUFBQSxVQUFhUCxFQUFNUSxPQUFFSCxFQUFBRyxNQUFBLENBRzdCLENBQUEsTUFBQSxFQUVGLENBR0EsTUFBQUMsd0JBQUEsV0FDQSxNQUFNQSxFQUFBQSxTQUF1QkMsY0FBZSxZQUFBLEVBQ3BDQyxFQUFjVixTQUFTUyxjQUFjLGVBQWEsRUFjekRDLEVBQUFDLGlCQUFBLFFBWDBCLFdBQ3ZCQyxFQUFhQyxVQUFVQyxPQUFPLHNCQUFzQixFQUNwREosRUFBWUcsVUFBVUMsT0FBTyxXQUFXLEVBQ3BDRixFQUFhQyxVQUFVRSxTQUFTLHNCQUFzQixFQUN4RGYsU0FBU2dCLEtBQUtDLE1BQU1DLFNBQVcsU0FFL0JsQixTQUFTZ0IsS0FBS0MsTUFBTUMsU0FBVyxNQUVuQyxDQUdELENBQUQsRUFJRUMsa0JBQWlCbkIsV0FDakIsSUFBTW9CLEVBQVdwQixTQUFPUixjQUFPNkIsZUFBYSxFQUU1Q0MsR0FBb0IsSUFBR0YsTUFBQUEsWUFBVyxFQUFsQ0UsRUFBU0MsWUFBY0gsQ0FHekIsRUFHRUksa0JBQXFCLFdBQ3JCQSxJQWFTQyxFQUFBQSxFQUVEQyxFQWZSRixFQUFRRyxTQUFhQyxlQUFlLGtCQUFZLEVBRWhEQyxFQUFPQyxhQUFjLFVBQUEsaUJBQVksRUFGakNOLEVBR0tPLGFBQUssY0FBQSxXQUFBLEVBRFZGLE9BR0lHLFlBQVMsV0FDWEMsR0FBRUYsS0FBQSxDQUNIRyxNQUFBLENBQUEsRUFFQUYsUUFBVyxPQUNWLENBQUEsQ0FIRixFQU1TUCxFQVFYekIsU0FSV3lCLEVBUUxVLFNBUktWLEVBUVMsaUJBTlZDLEVBQUduQyxFQUFBNkMscUJBQUFDLENBQUEsRUFBQSxHQUNMQyxFQUFBQSxlQUFXQyxDQUFBQSxLQUNoQkMsRUFBRXhDLEVBQUFBLGNBQW9CcUMsQ0FBQSxHQUN4QkksR0FBQUEsRUFIR0QsRUFBR0UsSUFBTSwrREFLYmhCLEVBQUFZLFdBQUFDLGFBQUFDLEVBQUFkLENBQUEsRUFGQSxFQVFJUyxZQUFnQlEsV0FKbEIsTUFNTUMsRUFBTTVDLFNBQUM2QyxjQUFnQixxQkFBQSxFQUw3QixJQU1JRCxFQUFjRSxTQUFJckMsY0FBUyxRQUFBLEVBWWdCLElBQUFzQyxxQkFWdkNsQyxTQUFpQjhCLEdBQ3ZCLEdBQUEsQ0FBQUssR0FBQUwsRUFHSU0sRUFBQUEsZUFHSkwsRUFBQS9CLFVBQUFxQyxPQUFBLFFBQUEsRUFGQUMsRUFBTXRDLFVBQUlpQyxJQUFBLFFBQUEsQ0FIWixFQVErQyxDQUM5Q0ssS0FBQSxLQUVERixVQUFhLEVBQ2JMLENBQUFBLEVBRGNRLFFBQVFDLENBQVcsRUFRbkNULEVBQU1VLGlCQUFBQSxRQVpzQixXQVE1QnRELFNBQUF1RCxnQkFBQUMsU0FBQSxDQUFBQyxJQUFBLENBQUEsQ0FBQSxDQUNBLENBR3dDLENBTnhDLEVBTU1ILG9CQUFzQixXQVM1QixJQUFBVixFQUFBNUMsU0FBQVMsY0FBQSx5QkFBQSxFQVBFLE1BQU1pRCxFQUFnQjFELFNBQVNTLGNBQWMsTUFBTSxFQVVuRG1DLEVBQUFqQyxpQkFBaUJYLFFBQVMyRCxJQUUxQkQsRUFBTUUsZUFBd0JqQixDQUFBQSxTQUFTa0IsUUFBVSxDQUFBLENBQUEsQ0FQbkQsRUFjR0MsdUJBQUEsV0FFRCxJQUFNQyxFQUFVL0QsU0FBQTJELGlCQUFBLFVBQUEsRUFNaEIsTUFBTUssRUFBaUIsSUFBSWpCLHFCQUpiLFNBQVFKLEVBQUFrQixHQUNwQkksR0FBQUEsQ0FBQUEsR0FBV3RCLEVBR1BxQixFQUFBQSxpQkFFTkUsRUFBU0MsT0FBU0MsVUFBT2xCLE9BQUssaUJBQUEsRUFDNUJrQixFQUFRdkQsVUFBYW1DLEVBQUNxQixNQUFBLEVBRXhCLEVBWGdCLENBY2xCbEIsS0FBQSxLQUNBbUIsV0FBTUMsU0FDSk4sVUFBTU8sR0FDTixDQVhvRSxFQWdCcEVOLEVBQUlyQyxRQUFjNEMsSUFDbkJMLEVBQUF2RCxVQUFBaUMsSUFBQSxpQkFBQSxFQWJHa0IsRUFBZVosUUFBUWdCLENBQU8sQ0FlbEMsQ0FBQSxDQWJBLEVBa0JFdkMsYUFBT2xCLFdBZFAsSUFlRTZELEVBQWN4RSxTQUFBUyxjQUFBLHlCQUFBLEVBQ1hpRSxFQUFLRixFQUFBRyxRQUFBQyxXQWJWSixFQWVHSyxhQUFBLEdBSVdDLE1BQVZDLE9BQUdsRCxPQUFPaUQsUUFBQUEsRUFBQUEsSUFBQUEsRUFmaEIsRUErQkNFLGVBQUEsV0ExQkMsTUFBTUMsRUFBVWpGLFNBQVNTLGNBQWMsaUJBQWlCLEVBRXhEb0IsT0FBT2xCLGlCQUFpQixZQUFjdUUsSUE0QnhDLElBQUFDLEVBQUEsQ0ExQk1DLEVBQUdGLEVBQUVFLEVBNEJMQyxFQUFBQSxFQUFBQSxDQUNKLEVBR1FoQixFQUFPaUIsQ0FDWEYsRUFBQXZELE9BQVUwRCxXQUNWUixFQUFBbEQsT0FBU2lELFdBM0JYLEVBZ0NNVSxFQUFlekUsQ0FBQUEsRUFBUzBFLEVBQW9CQyxLQUM5Q0MsRUFBWUYsRUFBZ0JFLEVBQU9DLEdBQUFBLEVBNUJ2Q1gsRUE4QkdoRSxNQUFNNEUsd0NBQUEsQ0FBQUMsRUE3QlBYLEVBOEJFUSxFQTdCRkksRUE4Qk1DLEVBN0JOLEVBOEJFcEQsaUJBQ0ZrRCxFQUNGWCxFQUFBQyxFQUNBVyxFQUFBWCxFQUNILEVBQUEsaUNBRUQsQ0FBQSxDQUNBLEVBeEJNQyxvQkFBc0IsV0FrQzFCckYsU0FBQVMsY0FBQSxlQUFBLEVBL0JTRSxpQkFBaUIsUUFBVXVFLElBa0N0QyxJQS9CWXRDLEVBa0NaK0MsRUFIQVQsRUFBQWIsT0FBQWlCLFFBQUEsWUFBQSxJQS9CWTFDLEdBZ0NaNEMsRUFBQU4sRUFBQWIsT0FBQWlCLFFBQUEsWUFBQSxHQWhDdUI3RSxjQUFjLGdCQUFnQixFQWtDckRrRixFQUFBSCxFQUFBL0UsY0FBQSxtQkFBQSxFQUVNTixFQUFDVSxVQUFBQyxPQUFBLG1CQUFBLEVBRUUwRSxFQUFHeEYsVUFBUWUsU0FBQSxtQkFBQSxHQUNac0IsRUFBSXBCLE1BQVFnRixVQUFBTixFQUFBQyxhQUFBLEtBQ1puRSxFQUFBQSxVQUFjLDZDQUVsQnlFLEVBQVVqRixNQUFPZ0YsVUFBQSxJQUNkckQsRUFDSG9ELFVBQUEsMENBQ0k1RCxFQUFBQSxLQUFBQSxHQS9CTixDQUFDLENBbUNILEVBS0krRCw4QkFBbUIsV0FDUG5HLFNBQUlTLGNBQUEsa0JBQUEsRUFDaEIyRixTQUFvQnpDLGlCQUFBLHdCQUFBLEVBRXBCMEMsUUFBV3pELEdBQ1gwRCxFQUFBQSxpQkFBZSxRQUFBLElBQUFyRSxHQUFBc0UsYUFBQUMsV0FBQSxDQUFBLENBQUEsQ0E5Qm5CLEVBd0NNQyxpQkFBUSxXQWpDWjNHLElBb0NFUCxFQUFBUyxTQUdKRyxFQUFNdUcsRUFBQUEsY0FBQUEsUUFBd0IsRUFDNUJ2RyxFQUFBd0csTUFBQSxFQUNBeEcsRUFBQStGLFFBQUlyRyxRQWxDSk0sRUFtQ0V1QyxJQUNBLDRFQWxDRndDLEVBbUNFM0YsRUFBQTZDLHFCQVBILFFBT3NCLEVBQUEsSUFDdkJFLFdBQUFDLGFBQUFwQyxFQUFBK0UsQ0FBQSxDQUNBLEVBS0EwQixvQkFBQSxXQUNBLElBQUFDLE9BQUEsWUFBQSxDQUNBVixPQUFBLFlBQ0FXLFdBQUEsQ0FBQSxFQUNBVixlQUFPLENBQUEsRUFFSHBHLGNBQWNpQixPQUNkOEYsS0FBQUEsQ0FBQUEsRUFDQUEsYUFBYyxFQW5DZEMsZ0JBQWlCLENBcUNqQkMsT0FBQSxFQUNBQyxNQUFNQyxFQUNOQyxRQUFNQyxDQUFBQSxHQUVORixNQUFBQSxJQUNFaEksU0FBVSxFQUNWNEgsYUFBYyxDQUFBLENBcENoQixFQUNBTyxXQXFDWSxDQXBDVmIsT0FxQ0VVLHNCQUNGSSxPQUFRLHFCQUNWLENBcENGLENBQUMsQ0FDSCxFQXlDSXZILHlCQUFxQitHLFdBRXhCLEdBQUEsUUFBQWxILFVBQUEsV0FBQSxFQUFBLENBRUQsTUFBQWtILEVBQUEvRyxTQUFBeUIsY0FBQSxLQUFBLEVBY0E0RCxTQUFBQSxLQUFBQSxNQUFxQm5FLFNBQUEsU0FDckJzRyxFQUFBQSxVQUE2QjFFLElBQUUsaUJBQUEsRUF0QzNCaUUsRUFBZWY7Ozs7Ozs7Ozs7O1FBR2YsTUFBTW1CLEVBQWdCSixFQUFldEcsY0FBYyxlQUFlLEVBQ2xFLElBQU00RyxFQUFlTixFQUFldEcsY0FBYyxjQUFjLEVBRWhFMEcsRUFBY3hHLGlCQUFpQixRQUFTLEtBQ3RDeEIsVUFBVSxZQUFhLEtBQUssRUFDNUI0SCxFQUFlOUYsTUFBTXdHLFFBQVUsRUFDL0J6SCxTQUFTZ0IsS0FBS0MsTUFBTUMsU0FBVyxPQUMvQndHLFdBQVcsS0FDVFAsRUFBYzdCLFFBQVEsa0JBQWtCLEVBQUVwQyxPQUFNLENBQ2xELEVBQUcsR0FBSSxDQUNULENBQUMsRUFFRG1FLEVBQWExRyxpQkFBaUIsUUFBUyxLQUNyQ2tCLE9BQU84RixTQUFTQyxLQUFPLHVCQUN6QixDQUFDLEVBRUQ1SCxTQUFTZ0IsS0FBSzZHLE9BQU9kLENBQWMsQ0FDckMsQ0FDRixFQUdBdkcsd0JBQXVCLEVBQ3ZCVyxrQkFBaUIsRUFDakIyRyxrQkFBaUIsRUFDakIzRixZQUFXLEVBR1h1RSx5QkFBd0IsRUFDeEJwRCxvQkFBbUIsRUFDbkIwQixlQUFjLEVBQ2RsQix1QkFBc0IsRUFDdEJTLGFBQVksRUFDWndELGlCQUFnQixFQUNoQm5CLG9CQUFtQixFQUNuQnZCLG9CQUFtQixFQUNuQm1DLDhCQUE2QiIsImZpbGUiOiJob21lLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXHJcbi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItZGVzdHJ1Y3R1cmluZyAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cclxuXHJcbi8vIENvb2tpZSBIYW5kbGUgZnVuY3Rpb25zXHJcblxyXG5mdW5jdGlvbiBzZXRDb29raWUoY25hbWUsIGN2YWx1ZSwgZXhkYXlzKSB7XHJcbiAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XHJcbiAgZC5zZXRUaW1lKGQuZ2V0VGltZSgpICsgZXhkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCk7XHJcbiAgbGV0IGV4cGlyZXMgPSBgZXhwaXJlcz0ke2QudG9VVENTdHJpbmcoKX1gO1xyXG4gIGRvY3VtZW50LmNvb2tpZSA9IGAke2NuYW1lfT0ke2N2YWx1ZX07JHtleHBpcmVzfTtwYXRoPS9gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb29raWUoY25hbWUpIHtcclxuICBsZXQgbmFtZSA9IGAke2NuYW1lfT1gO1xyXG4gIGxldCBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBjID0gY2FbaV07XHJcbiAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT09ICcgJykge1xyXG4gICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XHJcbiAgICB9XHJcbiAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gJyc7XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTtcclxuLy8gTmF2aWdhdGlvbiBoYW5kbGluZztcclxuY29uc3QgbW9iaWxlTmF2aWdhdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgaGFtYnVyZ2VyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFtYnVyZ2VyJyk7XHJcbiAgY29uc3QgbmF2YmFyTWVudUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcl9fbWVudScpO1xyXG5cclxuICBjb25zdCBtb2JpbGVNZW51SGFuZGxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbmF2YmFyTWVudUVsLmNsYXNzTGlzdC50b2dnbGUoJ25hdmJhcl9fbWVudS0tYWN0aXZlJyk7XHJcbiAgICBoYW1idXJnZXJFbC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcclxuICAgIGlmIChuYXZiYXJNZW51RWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZiYXJfX21lbnUtLWFjdGl2ZScpKSB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgaGFtYnVyZ2VyRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb2JpbGVNZW51SGFuZGxlKTtcclxufTtcclxuXHJcbi8vIERpc3BsYXkgZm9vdGVyIHllYXJcclxuY29uc3QgZGlzcGxheUZvb3RlclllYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgeWVhclNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX195ZWFyJyk7XHJcbiAgY29uc3QgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gIHllYXJTcGFuLnRleHRDb250ZW50ID0gY3VycmVudFllYXI7XHJcbn07XHJcblxyXG4vLyBGYWNlYm9vayBtZXNzZW5nZXJcclxuY29uc3QgZmFjZWJvb2tNZXNzZW5nZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgY2hhdGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYi1jdXN0b21lci1jaGF0Jyk7XHJcbiAgY2hhdGJveC5zZXRBdHRyaWJ1dGUoJ3BhZ2VfaWQnLCAnMTA5NzYzMjA1MTM2NjM3Jyk7XHJcbiAgY2hhdGJveC5zZXRBdHRyaWJ1dGUoJ2F0dHJpYnV0aW9uJywgJ2Jpel9pbmJveCcpO1xyXG5cclxuICB3aW5kb3cuZmJBc3luY0luaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBGQi5pbml0KHtcclxuICAgICAgeGZibWw6IHRydWUsXHJcbiAgICAgIHZlcnNpb246ICd2MTYuMCcsXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAoZnVuY3Rpb24gKGQsIHMsIGlkKSB7XHJcbiAgICBsZXQganM7XHJcbiAgICBjb25zdCBmanMgPSBkLmdldEVsZW1lbnRzQnlUYWdOYW1lKHMpWzBdO1xyXG4gICAgaWYgKGQuZ2V0RWxlbWVudEJ5SWQoaWQpKSByZXR1cm47XHJcbiAgICBqcyA9IGQuY3JlYXRlRWxlbWVudChzKTtcclxuICAgIGpzLmlkID0gaWQ7XHJcbiAgICBqcy5zcmMgPSAnaHR0cHM6Ly9jb25uZWN0LmZhY2Vib29rLm5ldC9wbF9QTC9zZGsveGZibWwuY3VzdG9tZXJjaGF0LmpzJztcclxuICAgIGZqcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqcywgZmpzKTtcclxuICB9KShkb2N1bWVudCwgJ3NjcmlwdCcsICdmYWNlYm9vay1qc3NkaycpO1xyXG59O1xyXG5cclxuLy8gU2Nyb2xsIHRvIFRvcFxyXG5jb25zdCBzY3JvbGxUb1RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuX19zY3JvbGwtdG8tdG9wJyk7XHJcbiAgY29uc3QgbWFpbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXInKTtcclxuXHJcbiAgY29uc3Qgc2hvd0J0biA9IGZ1bmN0aW9uIChlbnRyaWVzKSB7XHJcbiAgICBjb25zdCBbZW50cnldID0gZW50cmllcztcclxuXHJcbiAgICBpZiAoIWVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBzY3JlZW5PYnNlcnZlID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHNob3dCdG4sIHtcclxuICAgIHJvb3Q6IG51bGwsXHJcbiAgICB0aHJlc2hvbGQ6IDAuMyxcclxuICB9KTtcclxuXHJcbiAgY29uc3Qgc2Nyb2xsVG9Ub3BIYW5kbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG8oeyB0b3A6IDAgfSk7XHJcbiAgfTtcclxuXHJcbiAgc2NyZWVuT2JzZXJ2ZS5vYnNlcnZlKG1haW5Db250ZW50KTtcclxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzY3JvbGxUb1RvcEhhbmRsZSk7XHJcbn07XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBGdW5jdGlvbnMgZm9yIHRoaXMgcGFydGljdXJhbCBzaXRlXHJcbi8vICEgU2Nyb2xsIHRvIHRoZSBmaXJzdCBtYWluIHNlY3Rpb25cclxuXHJcbmNvbnN0IHNjcm9sbFRvTWFpbkNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnRuLXNjcm9sbGRvd24nKTtcclxuICBjb25zdCB0YXJnZXRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpO1xyXG5cclxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxyXG4gICAgdGFyZ2V0U2VjdGlvbi5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KVxyXG4gICk7XHJcbn07XHJcblxyXG4vLyAhIFNlY3Rpb24gQW5pbWF0aW9uXHJcblxyXG5jb25zdCBzZWN0aW9uQW5pbWF0aW9uSGFuZGxlID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IHNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKTtcclxuXHJcbiAgY29uc3Qgc2hvd1NlY3Rpb24gPSBmdW5jdGlvbiAoZW50cmllcywgb2JzZXJ2ZXIpIHtcclxuICAgIGNvbnN0IFtlbnRyeV0gPSBlbnRyaWVzO1xyXG5cclxuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnc2VjdGlvbi0taGlkZGVuJyk7XHJcbiAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICByb290OiBudWxsLFxyXG4gICAgcm9vdE1hcmdpbjogJy0xMDBweCcsXHJcbiAgICB0aHJlc2hvbGQ6IDAuMDUsXHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgb2JzZXJ2ZVNlY3Rpb24gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoc2hvd1NlY3Rpb24sIG9wdGlvbnMpO1xyXG5cclxuICBzZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XHJcbiAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3NlY3Rpb24tLWhpZGRlbicpO1xyXG4gICAgb2JzZXJ2ZVNlY3Rpb24ub2JzZXJ2ZShzZWN0aW9uKTtcclxuICB9KTtcclxufTtcclxuXHJcbi8vICEgQmFja2dyb3VuZCBWaWRlb1xyXG5jb25zdCB2aWRlb0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgaGVhZGVyVmlkZW9FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX3ZpZGVvLWJnIHZpZGVvJyk7XHJcbiAgY29uc3QgdmlkZW9EZXNrdG9wU3JjID0gaGVhZGVyVmlkZW9FbC5kYXRhc2V0LmRlc2t0b3BTcmM7XHJcblxyXG4gIGhlYWRlclZpZGVvRWwucGxheWJhY2tSYXRlID0gMC44O1xyXG5cclxuICAvLyBDaGFuZ2UgdmlkZW8gcXVhbGl0eSBkZXBlbmRzIG9mIHNjcmVlbiBzaXplXHJcbiAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPj0gMTIwMCkgaGVhZGVyVmlkZW9FbC5zcmMgPSB2aWRlb0Rlc2t0b3BTcmM7XHJcbn07XHJcblxyXG4vLyAhIEFuaW1hdGVkIGxvZ28gaW4gc2VjdGlvbiBhYm91dCB1c1xyXG5cclxuY29uc3QgYW5pbWF0ZWQzRExvZ28gPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgaW1hZ2VFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dC11c19fbG9nbycpO1xyXG5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IHtcclxuICAgIGNvbnN0IG1vdXNlID0ge1xyXG4gICAgICB4OiBlLngsXHJcbiAgICAgIHk6IGUueSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaW1hZ2UgPSB7XHJcbiAgICAgIHg6IHdpbmRvdy5pbm5lcldpZHRoLFxyXG4gICAgICB5OiB3aW5kb3cuaW5uZXJIZWlnaHQsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNhbGNSb3RhdGVERUcgPSAobW91c2VBeGlzLCBlbEF4aXNEaW1lbnNpb24sIG1heERlZ3JlZSkgPT5cclxuICAgICAgKChtb3VzZUF4aXMgLyBlbEF4aXNEaW1lbnNpb24pICogMiAtIDEpICogbWF4RGVncmVlO1xyXG5cclxuICAgIGltYWdlRWwuc3R5bGUudHJhbnNmb3JtID0gYHBlcnNwZWN0aXZlKDgwMHB4KSByb3RhdGVYKCR7LWNhbGNSb3RhdGVERUcoXHJcbiAgICAgIG1vdXNlLnksXHJcbiAgICAgIGltYWdlLnksXHJcbiAgICAgIDI1XHJcbiAgICApfWRlZykgcm90YXRlWSgke2NhbGNSb3RhdGVERUcoXHJcbiAgICAgIG1vdXNlLngsXHJcbiAgICAgIGltYWdlLngsXHJcbiAgICAgIDI1XHJcbiAgICApfWRlZykgc2NhbGUzZCgxLjAzLCAxLjAzLCAxLjAzKWA7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyAhIEZBUSBzZWN0aW9uXHJcblxyXG4vLyBEaXNwbGF5aW5nIGFuZCBoaWRpbmcgYW5zd2VyIGZvciBxdWVzdGlvbiAvLyBBY2NvcmRpb25cclxuXHJcbmNvbnN0IGFjY29yZGlvbkZBUVNlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgZmFxSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmFxX19pdGVtcy1jJyk7XHJcblxyXG4gIGZhcUl0ZW1zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZmFxX19pdGVtJykpIHtcclxuICAgICAgY29uc3QgaXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5mYXFfX2l0ZW0nKTtcclxuICAgICAgY29uc3QgYnRuID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuZmFxX19pdGVtLWJ0bicpO1xyXG4gICAgICBjb25zdCBhbnN3ZXIgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5mYXFfX2l0ZW0tYW5zd2VyJyk7XHJcblxyXG4gICAgICBpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2ZhcV9faXRlbS0tYWN0aXZlJyk7XHJcblxyXG4gICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2ZhcV9faXRlbS0tYWN0aXZlJykpIHtcclxuICAgICAgICBhbnN3ZXIuc3R5bGUubWF4SGVpZ2h0ID0gYCR7YW5zd2VyLnNjcm9sbEhlaWdodH1weGA7XHJcbiAgICAgICAgYnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWNpcmNsZS1taW51c1wiPjwvaT4nO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFuc3dlci5zdHlsZS5tYXhIZWlnaHQgPSAnMCc7XHJcbiAgICAgICAgYnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWNpcmNsZS1wbHVzXCI+PC9pPic7XHJcbiAgICAgICAgYnRuLmJsdXIoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEludm9raW5nIG1lc3NlbmdlciBjaGF0IGJ5IGNsaWNraW5nIGJ0biB1bmRlciB0aGUgc2VjdGlvblxyXG5cclxuY29uc3QgSW52b2tpbmdNZXNzZW5nZXJDaGF0YnlGQVFCdG4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgZmFxQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhcV9fZm9vdGVyLWJ0bicpO1xyXG4gIGNvbnN0IGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10eXBlPVwibWVzc2VuZ2VyXCInKTtcclxuXHJcbiAgYnRucy5mb3JFYWNoKChidG4pID0+XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBGQi5DdXN0b21lckNoYXQuc2hvd0RpYWxvZygpKVxyXG4gICk7XHJcblxyXG4gIC8vIGZhcUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IEZCLkN1c3RvbWVyQ2hhdC5zaG93RGlhbG9nKCkpO1xyXG59O1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEluc3RhcmdyYW0gY3VyYXRvci5pb1xyXG5cclxuLyogY3VyYXRvci1mZWVkLWRlZmF1bHQtZmVlZC1sYXlvdXQgKi9cclxuY29uc3QgaW5zdGFncmFtQ3VyYXRvciA9IGZ1bmN0aW9uICgpIHtcclxuICBsZXQgaTtcclxuICBsZXQgZTtcclxuICBjb25zdCBkID0gZG9jdW1lbnQ7XHJcbiAgY29uc3QgcyA9ICdzY3JpcHQnO1xyXG4gIGkgPSBkLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gIGkuYXN5bmMgPSAxO1xyXG4gIGkuY2hhcnNldCA9ICdVVEYtOCc7XHJcbiAgaS5zcmMgPVxyXG4gICAgJ2h0dHBzOi8vY2RuLmN1cmF0b3IuaW8vcHVibGlzaGVkLzFlMTE3YjlmLWJhMjctNGRmZC1iNDU2LTA0Mjk3NmI1MmRmNy5qcyc7XHJcbiAgZSA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUocylbMF07XHJcbiAgZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpLCBlKTtcclxufTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBUZXN0aW1vbmlhbHNcclxuLy8gU3dpcGVyXHJcbmNvbnN0IFRlc3RpbW9uaWFsc0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLm15U3dpcGVyJywge1xyXG4gICAgZWZmZWN0OiAnY292ZXJmbG93JyxcclxuICAgIGdyYWJDdXJzb3I6IHRydWUsXHJcbiAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcclxuICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcclxuICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgaW5pdGlhbFNsaWRlOiAzLFxyXG4gICAgY292ZXJmbG93RWZmZWN0OiB7XHJcbiAgICAgIHJvdGF0ZTogMCxcclxuICAgICAgc2NhbGU6IDEsXHJcbiAgICAgIHN0cmV0Y2g6IC0xMCxcclxuICAgICAgZGVwdGg6IDcyNSxcclxuICAgICAgbW9kaWZpZXI6IDEsXHJcbiAgICAgIHNsaWRlU2hhZG93czogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICBuZXh0RWw6ICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyxcclxuICAgICAgcHJldkVsOiAnLnN3aXBlci1idXR0b24tcHJldicsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3Qgc2hvd0FnZVZlcnlmaWNhdGlvbk1vZGFsID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vIENoZWNrIENvb2tpZVxyXG4gIGlmIChnZXRDb29raWUoJ2FnZU92ZXIxOCcpICE9PSAneWVzJykge1xyXG4gICAgLy8gQ3JlYXRpbmcgJiBBZGQgbW9kYWxcclxuICAgIGNvbnN0IG1vZGFsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBtb2RhbEhUTUwgPSBgPGRpdiBjbGFzcz1cIm1vZGFsLWFnZVwiPlxyXG48ZGl2IGNsYXNzPVwibW9kYWwtYWdlX19jb250ZW50XCI+XHJcbiAgICA8aW1nIGNsYXNzPVwibW9kYWwtYWdlX19sb2dvXCIgc3JjPVwiLi9pbWcvdGVudmFwZS1sb2dvLXRleHQucG5nXCIgYWx0PVwiXCI+XHJcbiAgICA8cCBjbGFzcz1cIm1vZGFsLWFnZV9fdGV4dFwiPkN6eSBtYXN6IHNrb8WEY3pvbmUgMTggbGF0PzwvcD5cclxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1hZ2VfX2J0bnNcIj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0tY29uZmlybVwiPlRhazwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLS1kZW5pZWRcIj5OaWU8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gICAgPHAgY2xhc3M9XCJtb2RhbC1hZ2VfX3RleHQtc21hbGxcIj5XY2hvZHrEhWMgbmEgc3Ryb27EmSBuYXN6ZWdvIHNrbGVwdSBwb3R3aWVyZHphc3osIMW8ZSBqZXN0ZcWbIG9zb2LEhVxyXG4gICAgICAgIHBlxYJub2xldG5pxIUuPC9wPlxyXG48L2Rpdj5cclxuPC9kaXY+YDtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgICBtb2RhbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtb2RhbC1jb250YWluZXInKTtcclxuICAgIG1vZGFsQ29udGFpbmVyLmlubmVySFRNTCA9IG1vZGFsSFRNTDtcclxuXHJcbiAgICAvLyBNb2RhbCBiZWhhdmlvclxyXG4gICAgY29uc3QgYnRuQ29uZmlybUFnZSA9IG1vZGFsQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5idG4tLWNvbmZpcm0nKTtcclxuICAgIGNvbnN0IGJ0bkRlbmllZEFnZSA9IG1vZGFsQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5idG4tLWRlbmllZCcpO1xyXG5cclxuICAgIGJ0bkNvbmZpcm1BZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHNldENvb2tpZSgnYWdlT3ZlcjE4JywgJ3llcycpO1xyXG4gICAgICBtb2RhbENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgYnRuQ29uZmlybUFnZS5jbG9zZXN0KCcubW9kYWwtY29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYnRuRGVuaWVkQWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwczovL3d3dy5nb29nbGUucGwnO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmQobW9kYWxDb250YWluZXIpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIE1haW4gZnVuY3Rpb25zXHJcbm1vYmlsZU5hdmlnYXRpb25IYW5kbGVyKCk7XHJcbmRpc3BsYXlGb290ZXJZZWFyKCk7XHJcbmZhY2Vib29rTWVzc2VuZ2VyKCk7XHJcbnNjcm9sbFRvVG9wKCk7XHJcblxyXG4vLyBGdW5jdGlvbnMgZm9yIHRoaXMgcGFydGljdXJhbCBwYWdlXHJcbnNob3dBZ2VWZXJ5ZmljYXRpb25Nb2RhbCgpO1xyXG5zY3JvbGxUb01haW5Db250ZW50KCk7XHJcbmFuaW1hdGVkM0RMb2dvKCk7XHJcbnNlY3Rpb25BbmltYXRpb25IYW5kbGUoKTtcclxudmlkZW9IYW5kbGVyKCk7XHJcbmluc3RhZ3JhbUN1cmF0b3IoKTtcclxuVGVzdGltb25pYWxzSGFuZGxlcigpO1xyXG5hY2NvcmRpb25GQVFTZWN0aW9uKCk7XHJcbkludm9raW5nTWVzc2VuZ2VyQ2hhdGJ5RkFRQnRuKCk7XHJcbiJdfQ==
