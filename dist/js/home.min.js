"use strict";function setCookie(e,t,o){var n=new Date,o=(n.setTime(n.getTime()+24*o*60*60*1e3),"expires="+n.toUTCString());document.cookie=e+`=${t};${o};path=/`}function getCookie(e){var o=e+"=",n=document.cookie.split(";");for(let t=0;t<n.length;t++){let e=n[t];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(o))return e.substring(o.length,e.length)}return""}const showAgeVeryficationModal=function(){if("yes"!==getCookie("ageOver18")){const t=document.createElement("div");document.body.style.overflow="hidden",t.classList.add("modal-container"),t.innerHTML=`<div class="modal-age">
<div class="modal-age__content">
    <img class="modal-age__logo" src="./img/tenvape-logo-text.png" alt="">
    <p class="modal-age__text">Czy masz skończone 18 lat?</p>
    <div class="modal-age__btns">
        <button class="btn btn--confirm">Tak</button>
        <button class="btn btn--denied">Nie</button>
    </div>
    <p class="modal-age__text-small">Wchodząc na stronę naszego sklepu potwierdzasz, że jesteś osobą
        pełnoletnią.</p>
</div>
</div>`;const o=t.querySelector(".btn--confirm");var e=t.querySelector(".btn--denied");o.addEventListener("click",()=>{setCookie("ageOver18","yes",7),t.style.opacity=0,document.body.style.overflow="auto",setTimeout(()=>{o.closest(".modal-container").remove()},1e3)}),e.addEventListener("click",()=>{window.location.href="https://www.google.pl"}),document.body.append(t)}},cookiesModal=function(){if("yes"!==getCookie("cookies")){const e=document.createElement("div");e.classList.add("modal-cookies"),e.innerHTML=`<p class="modal-cookies__text">Ta strona wykorzystuje pliki cookie. Używamy informacji zapisanych za pomocą
  plików cookies w celu zapewnienia maksymalnej wygody w korzystaniu z naszego serwisu.</p><button class="modal-cookies__btn btn btn--confirm">Akceptuję</button>`,document.body.append(e);e.querySelector("button").addEventListener("click",function(){setCookie("cookies","yes",365),e.remove()})}},mobileNavigationHandler=function(){const e=document.querySelector(".hamburger"),t=document.querySelector(".navbar__menu");e.addEventListener("click",function(){t.classList.toggle("navbar__menu--active"),e.classList.toggle("is-active"),t.classList.contains("navbar__menu--active")?document.body.style.overflow="hidden":document.body.style.overflow="auto"})},displayFooterYear=function(){var e=document.querySelector(".footer__year"),t=(new Date).getFullYear();e.textContent=t},facebookMessenger=function(){var e,t,o,n=document.getElementById("fb-customer-chat");n.setAttribute("page_id","109763205136637"),n.setAttribute("attribution","biz_inbox"),window.fbAsyncInit=function(){FB.init({xfbml:!0,version:"v16.0"})},n=document,e="script",t="facebook-jssdk",o=n.getElementsByTagName(e)[0],n.getElementById(t)||((n=n.createElement(e)).id=t,n.src="https://connect.facebook.net/pl_PL/sdk/xfbml.customerchat.js",o.parentNode.insertBefore(n,o))},scrollToTop=function(){const t=document.querySelector(".btn__scroll-to-top");var e=document.querySelector("header");new IntersectionObserver(function(e){var[e]=e;e.isIntersecting?t.classList.remove("active"):t.classList.add("active")},{root:null,threshold:.3}).observe(e),t.addEventListener("click",function(){document.documentElement.scrollTo({top:0})})},scrollToMainContent=function(){var e=document.querySelector(".header__btn-scrolldown");const t=document.querySelector("main");e.addEventListener("click",()=>t.scrollIntoView({behavior:"smooth"}))},sectionAnimationHandle=function(){var e=document.querySelectorAll(".section");const t=new IntersectionObserver(function(e,t){var[e]=e;e.isIntersecting&&(e.target.classList.remove("section--hidden"),t.unobserve(e.target))},{root:null,rootMargin:"-100px",threshold:.05});e.forEach(e=>{e.classList.add("section--hidden"),t.observe(e)})},videoHandler=function(){var e=document.querySelector(".header__video-bg video"),t=e.dataset.desktopSrc;e.playbackRate=.8,1200<=window.screen.width&&(e.src=t)},animated3DLogo=function(){const n=document.querySelector(".about-us__logo");window.addEventListener("mousemove",e=>{var e={x:e.x,y:e.y},t={x:window.innerWidth,y:window.innerHeight},o=(e,t,o)=>(e/t*2-1)*o;n.style.transform=`perspective(800px) rotateX(${-o(e.y,t.y,25)}deg) rotateY(${o(e.x,t.x,25)}deg) scale3d(1.03, 1.03, 1.03)`})},accordionFAQSection=function(){document.querySelector(".faq__items-c").addEventListener("click",e=>{var t,o;e.target.closest(".faq__item")&&(t=(e=e.target.closest(".faq__item")).querySelector(".faq__item-btn"),o=e.querySelector(".faq__item-answer"),e.classList.toggle("faq__item--active"),e.classList.contains("faq__item--active")?(o.style.maxHeight=o.scrollHeight+"px",t.innerHTML='<i class="fa-solid fa-circle-minus"></i>'):(o.style.maxHeight="0",t.innerHTML='<i class="fa-solid fa-circle-plus"></i>',t.blur()))})},InvokingMessengerChatbyFAQBtn=function(){document.querySelectorAll('[data-type="messenger"').forEach(e=>e.addEventListener("click",()=>FB.CustomerChat.showDialog()))},instagramCurator=function(){var e=document,t=e.createElement("script");t.async=1,t.charset="UTF-8",t.src="https://cdn.curator.io/published/1e117b9f-ba27-4dfd-b456-042976b52df7.js",(e=e.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e)},TestimonialsHandler=function(){new Swiper(".mySwiper",{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!1,initialSlide:3,coverflowEffect:{rotate:0,scale:1,stretch:-10,depth:725,modifier:1,slideShadows:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})};mobileNavigationHandler(),displayFooterYear(),facebookMessenger(),scrollToTop(),showAgeVeryficationModal(),scrollToMainContent(),animated3DLogo(),sectionAnimationHandle(),videoHandler(),instagramCurator(),TestimonialsHandler(),accordionFAQSection(),InvokingMessengerChatbyFAQBtn(),cookiesModal();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuanMiXSwibmFtZXMiOlsic2V0Q29va2llIiwiY25hbWUiLCJjdmFsdWUiLCJleGRheXMiLCJkIiwiRGF0ZSIsImV4cGlyZXMiLCJzZXRUaW1lIiwidG9VVENTdHJpbmciLCJjb29raWUiLCJnZXRDb29raWUiLCJsZXQiLCJuYW1lIiwiZG9jdW1lbnQiLCJzcGxpdCIsImNhIiwiaSIsImMiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwibGVuZ3RoIiwic2hvd0FnZVZlcnlmaWNhdGlvbk1vZGFsIiwibW9kYWxDb250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJjbGFzc0xpc3QiLCJpbm5lckhUTUwiLCJhZGQiLCJtb2RhbEhUTUwiLCJidG5EZW5pZWRBZ2UiLCJxdWVyeVNlbGVjdG9yIiwiYnRuQ29uZmlybUFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJib2R5Iiwib3ZlcmZsb3ciLCJzZXRUaW1lb3V0Iiwib3BhY2l0eSIsImNsb3Nlc3QiLCJyZW1vdmUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJhcHBlbmQiLCJjb29raWVzTW9kYWwiLCJtb2RhbCIsImJ0biIsImFjY2VwdENvb2tpZXMiLCJuYXZiYXJNZW51RWwiLCJtb2JpbGVOYXZpZ2F0aW9uSGFuZGxlciIsImhhbWJ1cmdlckVsIiwiZmFjZWJvb2tNZXNzZW5nZXIiLCJ0b2dnbGUiLCJkaXNwbGF5Rm9vdGVyWWVhciIsImNvbnRhaW5zIiwieWVhclNwYW4iLCJ0ZXh0Q29udGVudCIsImN1cnJlbnRZZWFyIiwiaW5pdCIsInhmYm1sIiwiZ2V0RnVsbFllYXIiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm1haW5Db250ZW50IiwiaWQiLCJmanMiLCJnZXRFbGVtZW50QnlJZCIsImNoYXRib3giLCJzZXRBdHRyaWJ1dGUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiRkIiLCJ2ZXJzaW9uIiwicyIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJqcyIsInNjcm9sbFRvVG9wIiwic2Nyb2xsVG9Ub3BIYW5kbGUiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUbyIsInNjcm9sbFRvTWFpbkNvbnRlbnQiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJyb290IiwidGhyZXNob2xkIiwidGFyZ2V0U2VjdGlvbiIsIm9ic2VydmUiLCJzZWN0aW9uQW5pbWF0aW9uSGFuZGxlIiwidG9wIiwib3B0aW9ucyIsInJvb3RNYXJnaW4iLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwic2VjdGlvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwib2JzZXJ2ZVNlY3Rpb24iLCJvYnNlcnZlciIsInZpZGVvSGFuZGxlciIsInZpZGVvRGVza3RvcFNyYyIsImhlYWRlclZpZGVvRWwiLCJwbGF5YmFja1JhdGUiLCJ1bm9ic2VydmUiLCJ0YXJnZXQiLCJhbmltYXRlZDNETG9nbyIsInkiLCJzZWN0aW9uIiwiaW1hZ2VFbCIsInRyYW5zZm9ybSIsImRhdGFzZXQiLCJkZXNrdG9wU3JjIiwic2NyZWVuIiwid2lkdGgiLCJzcmMiLCJpdGVtIiwiZSIsIngiLCJhbnN3ZXIiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjYWxjUm90YXRlREVHIiwibW91c2VBeGlzIiwiZWxBeGlzRGltZW5zaW9uIiwibWF4RGVncmVlIiwibW91c2UiLCJJbnZva2luZ01lc3NlbmdlckNoYXRieUZBUUJ0biIsImJ0bnMiLCJpbWFnZSIsIlRlc3RpbW9uaWFsc0hhbmRsZXIiLCJzd2lwZXIiLCJTd2lwZXIiLCJzY3JvbGxIZWlnaHQiLCJlZmZlY3QiLCJjZW50ZXJlZFNsaWRlcyIsIm1heEhlaWdodCIsInNsaWRlc1BlclZpZXciLCJibHVyIiwicHJldkVsIiwiQ3VzdG9tZXJDaGF0Iiwic2hvd0RpYWxvZyIsImluc3RhZ3JhbUN1cmF0b3IiLCJhY2NvcmRpb25GQVFTZWN0aW9uIiwiZ3JhYkN1cnNvciIsImxvb3AiLCJpbml0aWFsU2xpZGUiLCJjb3ZlcmZsb3dFZmZlY3QiLCJyb3RhdGUiLCJzY2FsZSIsInN0cmV0Y2giLCJkZXB0aCIsIm1vZGlmaWVyIiwic2xpZGVTaGFkb3dzIiwibmF2aWdhdGlvbiIsIm5leHRFbCJdLCJtYXBwaW5ncyI6ImFBT0EsU0FBQUEsVUFBQUMsRUFBQUMsRUFBQUMsR0FHRSxJQUFNQyxFQUFJLElBQUlDLEtBQWRDLEdBREZGLEVBQUFHLFFBQVNQLEVBQUFBLFFBQVVDLEVBQWVFLEdBQVJELEVBQWMsR0FBRSxHQUFBLEdBQUEsRUFDMUJHLFdBQU1ELEVBQUFJLFlBQUEsR0FDcEJKLFNBQVNLLE9BQVlSLE1BQVNDLEtBQVVJLFVBRzFDLENBQUEsU0FBQUksVUFBQVQsR0FFQVUsSUFBQUMsRUFBU0YsRUFBQUEsSUFDSEUsRUFBSUMsU0FBTVosT0FBUWEsTUFBQSxHQUFBLEVBQ3RCLElBQUlDLElBQUtGLEVBQUFBLEVBQUFBLEVBQVNKLEVBQUFBLE9BQWFPLENBQUEsR0FBSSxDQUNuQ0wsSUFBS00sRUFBS0YsRUFBR0MsR0FDWCxLQUFhLE1BQVJDLEVBQUdGLE9BQUssQ0FBQSxHQUNiRSxFQUFBQSxFQUFRQyxVQUFVLENBQUEsRUFFbEIsR0FBQSxJQUFBRCxFQUFBRSxRQUFBUCxDQUFBLEVBQ0EsT0FBTU8sRUFBQUEsVUFBYVAsRUFBTVEsT0FBRUgsRUFBQUcsTUFBQSxDQUc3QixDQUFBLE1BQUEsRUFFRixDQUVBLE1BQU1DLHlCQUEyQixXQUUvQixHQUErQixRQUEzQlgsVUFBVSxXQUFXLEVBQXpCLENBR0EsTUFBTVksRUFBaUJULFNBQVNVLGNBQWMsS0FBSyxFQWVuREQsU0FBQUEsS0FBY0UsTUFBQ0MsU0FBYyxTQUM3QkgsRUFBZUksVUFBU0MsSUFBR0MsaUJBQVMsRUFBcENOLEVBQWVJOzs7Ozs7Ozs7OztRQUlmLE1BQU1HLEVBQWVQLEVBQWVRLGNBQWMsZUFBZSxFQUVqRUMsSUFBQUEsRUFBY0MsRUFBaUJGLGNBQWUsY0FBQSxFQUE5Q0MsRUFFRVQsaUJBQTRCLFFBQUksS0FDaENULFVBQVNvQixZQUFXQyxNQUFRLENBQUcsRUFDL0JDLEVBQVdYLE1BQU1ZLFFB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QUNOQyxhQUFjLEVBQ2RDLGdCQUFpQixDQUNmQyxPQUFRLEVBQ1JDLE1BQU8sRUFDUEMsUUFBUyxDQUFDLEdBQ1ZDLE1BQU8sSUFDUEMsU0FBVSxFQUNWQyxhQUFjLENBQUEsQ0FDaEIsRUFDQUMsV0FBWSxDQUNWQyxPQUFRLHNCQUNSaEIsT0FBUSxxQkFDVixDQUNGLENBQUMsQ0FDSCxFQUdBdkYsd0JBQXVCLEVBQ3ZCSSxrQkFBaUIsRUFDakJGLGtCQUFpQixFQUNqQnlCLFlBQVcsRUFHWHRELHlCQUF3QixFQUN4QjBELG9CQUFtQixFQUNuQnVCLGVBQWMsRUFDZGhCLHVCQUFzQixFQUN0QlUsYUFBWSxFQUNaMEMsaUJBQWdCLEVBQ2hCWixvQkFBbUIsRUFDbkJhLG9CQUFtQixFQUNuQmhCLDhCQUE2QixFQUU3QmhGLGFBQVkiLCJmaWxlIjoiaG9tZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cclxuLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLWRlc3RydWN0dXJpbmcgKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cclxuLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLWNvbnN0ICovXHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXHJcblxyXG4vLyBDb29raWUgSGFuZGxlIGZ1bmN0aW9uc1xyXG5cclxuZnVuY3Rpb24gc2V0Q29va2llKGNuYW1lLCBjdmFsdWUsIGV4ZGF5cykge1xyXG4gIGNvbnN0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gIGQuc2V0VGltZShkLmdldFRpbWUoKSArIGV4ZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xyXG4gIGxldCBleHBpcmVzID0gYGV4cGlyZXM9JHtkLnRvVVRDU3RyaW5nKCl9YDtcclxuICBkb2N1bWVudC5jb29raWUgPSBgJHtjbmFtZX09JHtjdmFsdWV9OyR7ZXhwaXJlc307cGF0aD0vYDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKSB7XHJcbiAgbGV0IG5hbWUgPSBgJHtjbmFtZX09YDtcclxuICBsZXQgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgYyA9IGNhW2ldO1xyXG4gICAgd2hpbGUgKGMuY2hhckF0KDApID09PSAnICcpIHtcclxuICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpO1xyXG4gICAgfVxyXG4gICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuICcnO1xyXG59XHJcblxyXG5jb25zdCBzaG93QWdlVmVyeWZpY2F0aW9uTW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gQ2hlY2sgQ29va2llXHJcbiAgaWYgKGdldENvb2tpZSgnYWdlT3ZlcjE4JykgPT09ICd5ZXMnKSByZXR1cm47XHJcblxyXG4gIC8vIENyZWF0aW5nICYgQWRkIG1vZGFsXHJcbiAgY29uc3QgbW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBjb25zdCBtb2RhbEhUTUwgPSBgPGRpdiBjbGFzcz1cIm1vZGFsLWFnZVwiPlxyXG48ZGl2IGNsYXNzPVwibW9kYWwtYWdlX19jb250ZW50XCI+XHJcbiAgICA8aW1nIGNsYXNzPVwibW9kYWwtYWdlX19sb2dvXCIgc3JjPVwiLi9pbWcvdGVudmFwZS1sb2dvLXRleHQucG5nXCIgYWx0PVwiXCI+XHJcbiAgICA8cCBjbGFzcz1cIm1vZGFsLWFnZV9fdGV4dFwiPkN6eSBtYXN6IHNrb8WEY3pvbmUgMTggbGF0PzwvcD5cclxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1hZ2VfX2J0bnNcIj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0tY29uZmlybVwiPlRhazwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLS1kZW5pZWRcIj5OaWU8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gICAgPHAgY2xhc3M9XCJtb2RhbC1hZ2VfX3RleHQtc21hbGxcIj5XY2hvZHrEhWMgbmEgc3Ryb27EmSBuYXN6ZWdvIHNrbGVwdSBwb3R3aWVyZHphc3osIMW8ZSBqZXN0ZcWbIG9zb2LEhVxyXG4gICAgICAgIHBlxYJub2xldG5pxIUuPC9wPlxyXG48L2Rpdj5cclxuPC9kaXY+YDtcclxuXHJcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gIG1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWNvbnRhaW5lcicpO1xyXG4gIG1vZGFsQ29udGFpbmVyLmlubmVySFRNTCA9IG1vZGFsSFRNTDtcclxuXHJcbiAgLy8gTW9kYWwgYmVoYXZpb3JcclxuICBjb25zdCBidG5Db25maXJtQWdlID0gbW9kYWxDb250YWluZXIucXVlcnlTZWxlY3RvcignLmJ0bi0tY29uZmlybScpO1xyXG4gIGNvbnN0IGJ0bkRlbmllZEFnZSA9IG1vZGFsQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5idG4tLWRlbmllZCcpO1xyXG5cclxuICBidG5Db25maXJtQWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgc2V0Q29va2llKCdhZ2VPdmVyMTgnLCAneWVzJywgNyk7XHJcbiAgICBtb2RhbENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgYnRuQ29uZmlybUFnZS5jbG9zZXN0KCcubW9kYWwtY29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICB9LCAxMDAwKTtcclxuICB9KTtcclxuXHJcbiAgYnRuRGVuaWVkQWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlLnBsJztcclxuICB9KTtcclxuXHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmQobW9kYWxDb250YWluZXIpO1xyXG59O1xyXG5cclxuY29uc3QgY29va2llc01vZGFsID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vIENoZWNrIGNvb2tpZXNcclxuICBpZiAoZ2V0Q29va2llKCdjb29raWVzJykgPT09ICd5ZXMnKSByZXR1cm47XHJcblxyXG4gIC8vIENyZWF0ZSBtb2RhbFxyXG4gIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWNvb2tpZXMnKTtcclxuICBtb2RhbC5pbm5lckhUTUwgPSBgPHAgY2xhc3M9XCJtb2RhbC1jb29raWVzX190ZXh0XCI+VGEgc3Ryb25hIHd5a29yenlzdHVqZSBwbGlraSBjb29raWUuIFXFvHl3YW15IGluZm9ybWFjamkgemFwaXNhbnljaCB6YSBwb21vY8SFXHJcbiAgcGxpa8OzdyBjb29raWVzIHcgY2VsdSB6YXBld25pZW5pYSBtYWtzeW1hbG5laiB3eWdvZHkgdyBrb3J6eXN0YW5pdSB6IG5hc3plZ28gc2Vyd2lzdS48L3A+PGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWNvb2tpZXNfX2J0biBidG4gYnRuLS1jb25maXJtXCI+QWtjZXB0dWrEmTwvYnV0dG9uPmA7XHJcblxyXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kKG1vZGFsKTtcclxuXHJcbiAgLy8gTW9kYWwgQmVoYXZpb3JcclxuICBjb25zdCBidG4gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKTtcclxuXHJcbiAgY29uc3QgYWNjZXB0Q29va2llcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHNldENvb2tpZSgnY29va2llcycsICd5ZXMnLCAzNjUpO1xyXG4gICAgbW9kYWwucmVtb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWNjZXB0Q29va2llcyk7XHJcbn07XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS07XHJcbi8vIE5hdmlnYXRpb24gaGFuZGxpbmc7XHJcbmNvbnN0IG1vYmlsZU5hdmlnYXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGhhbWJ1cmdlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpO1xyXG4gIGNvbnN0IG5hdmJhck1lbnVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX21lbnUnKTtcclxuXHJcbiAgY29uc3QgbW9iaWxlTWVudUhhbmRsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIG5hdmJhck1lbnVFbC5jbGFzc0xpc3QudG9nZ2xlKCduYXZiYXJfX21lbnUtLWFjdGl2ZScpO1xyXG4gICAgaGFtYnVyZ2VyRWwuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XHJcbiAgICBpZiAobmF2YmFyTWVudUVsLmNsYXNzTGlzdC5jb250YWlucygnbmF2YmFyX19tZW51LS1hY3RpdmUnKSkge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGhhbWJ1cmdlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW9iaWxlTWVudUhhbmRsZSk7XHJcbn07XHJcblxyXG4vLyBEaXNwbGF5IGZvb3RlciB5ZWFyXHJcbmNvbnN0IGRpc3BsYXlGb290ZXJZZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IHllYXJTcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlcl9feWVhcicpO1xyXG4gIGNvbnN0IGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG5cclxuICB5ZWFyU3Bhbi50ZXh0Q29udGVudCA9IGN1cnJlbnRZZWFyO1xyXG59O1xyXG5cclxuLy8gRmFjZWJvb2sgbWVzc2VuZ2VyXHJcbmNvbnN0IGZhY2Vib29rTWVzc2VuZ2VyID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGNoYXRib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmItY3VzdG9tZXItY2hhdCcpO1xyXG4gIGNoYXRib3guc2V0QXR0cmlidXRlKCdwYWdlX2lkJywgJzEwOTc2MzIwNTEzNjYzNycpO1xyXG4gIGNoYXRib3guc2V0QXR0cmlidXRlKCdhdHRyaWJ1dGlvbicsICdiaXpfaW5ib3gnKTtcclxuXHJcbiAgd2luZG93LmZiQXN5bmNJbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgRkIuaW5pdCh7XHJcbiAgICAgIHhmYm1sOiB0cnVlLFxyXG4gICAgICB2ZXJzaW9uOiAndjE2LjAnLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgKGZ1bmN0aW9uIChkLCBzLCBpZCkge1xyXG4gICAgbGV0IGpzO1xyXG4gICAgY29uc3QgZmpzID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZShzKVswXTtcclxuICAgIGlmIChkLmdldEVsZW1lbnRCeUlkKGlkKSkgcmV0dXJuO1xyXG4gICAganMgPSBkLmNyZWF0ZUVsZW1lbnQocyk7XHJcbiAgICBqcy5pZCA9IGlkO1xyXG4gICAganMuc3JjID0gJ2h0dHBzOi8vY29ubmVjdC5mYWNlYm9vay5uZXQvcGxfUEwvc2RrL3hmYm1sLmN1c3RvbWVyY2hhdC5qcyc7XHJcbiAgICBmanMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoanMsIGZqcyk7XHJcbiAgfSkoZG9jdW1lbnQsICdzY3JpcHQnLCAnZmFjZWJvb2stanNzZGsnKTtcclxufTtcclxuXHJcbi8vIFNjcm9sbCB0byBUb3BcclxuY29uc3Qgc2Nyb2xsVG9Ub3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bl9fc2Nyb2xsLXRvLXRvcCcpO1xyXG4gIGNvbnN0IG1haW5Db250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyJyk7XHJcblxyXG4gIGNvbnN0IHNob3dCdG4gPSBmdW5jdGlvbiAoZW50cmllcykge1xyXG4gICAgY29uc3QgW2VudHJ5XSA9IGVudHJpZXM7XHJcblxyXG4gICAgaWYgKCFlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICBidG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2NyZWVuT2JzZXJ2ZSA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihzaG93QnRuLCB7XHJcbiAgICByb290OiBudWxsLFxyXG4gICAgdGhyZXNob2xkOiAwLjMsXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHNjcm9sbFRvVG9wSGFuZGxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvKHsgdG9wOiAwIH0pO1xyXG4gIH07XHJcblxyXG4gIHNjcmVlbk9ic2VydmUub2JzZXJ2ZShtYWluQ29udGVudCk7XHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2Nyb2xsVG9Ub3BIYW5kbGUpO1xyXG59O1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gRnVuY3Rpb25zIGZvciB0aGlzIHBhcnRpY3VyYWwgc2l0ZVxyXG4vLyAhIFNjcm9sbCB0byB0aGUgZmlyc3QgbWFpbiBzZWN0aW9uXHJcblxyXG5jb25zdCBzY3JvbGxUb01haW5Db250ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J0bi1zY3JvbGxkb3duJyk7XHJcbiAgY29uc3QgdGFyZ2V0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKTtcclxuXHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cclxuICAgIHRhcmdldFNlY3Rpb24uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSlcclxuICApO1xyXG59O1xyXG5cclxuLy8gISBTZWN0aW9uIEFuaW1hdGlvblxyXG5cclxuY29uc3Qgc2VjdGlvbkFuaW1hdGlvbkhhbmRsZSA9IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBzZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uJyk7XHJcblxyXG4gIGNvbnN0IHNob3dTZWN0aW9uID0gZnVuY3Rpb24gKGVudHJpZXMsIG9ic2VydmVyKSB7XHJcbiAgICBjb25zdCBbZW50cnldID0gZW50cmllcztcclxuXHJcbiAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3NlY3Rpb24tLWhpZGRlbicpO1xyXG4gICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgcm9vdDogbnVsbCxcclxuICAgIHJvb3RNYXJnaW46ICctMTAwcHgnLFxyXG4gICAgdGhyZXNob2xkOiAwLjA1LFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9ic2VydmVTZWN0aW9uID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHNob3dTZWN0aW9uLCBvcHRpb25zKTtcclxuXHJcbiAgc2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xyXG4gICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLS1oaWRkZW4nKTtcclxuICAgIG9ic2VydmVTZWN0aW9uLm9ic2VydmUoc2VjdGlvbik7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyAhIEJhY2tncm91bmQgVmlkZW9cclxuY29uc3QgdmlkZW9IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGhlYWRlclZpZGVvRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX192aWRlby1iZyB2aWRlbycpO1xyXG4gIGNvbnN0IHZpZGVvRGVza3RvcFNyYyA9IGhlYWRlclZpZGVvRWwuZGF0YXNldC5kZXNrdG9wU3JjO1xyXG5cclxuICBoZWFkZXJWaWRlb0VsLnBsYXliYWNrUmF0ZSA9IDAuODtcclxuXHJcbiAgLy8gQ2hhbmdlIHZpZGVvIHF1YWxpdHkgZGVwZW5kcyBvZiBzY3JlZW4gc2l6ZVxyXG4gIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoID49IDEyMDApIGhlYWRlclZpZGVvRWwuc3JjID0gdmlkZW9EZXNrdG9wU3JjO1xyXG59O1xyXG5cclxuLy8gISBBbmltYXRlZCBsb2dvIGluIHNlY3Rpb24gYWJvdXQgdXNcclxuXHJcbmNvbnN0IGFuaW1hdGVkM0RMb2dvID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGltYWdlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXQtdXNfX2xvZ28nKTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7XHJcbiAgICBjb25zdCBtb3VzZSA9IHtcclxuICAgICAgeDogZS54LFxyXG4gICAgICB5OiBlLnksXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGltYWdlID0ge1xyXG4gICAgICB4OiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgeTogd2luZG93LmlubmVySGVpZ2h0LFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjYWxjUm90YXRlREVHID0gKG1vdXNlQXhpcywgZWxBeGlzRGltZW5zaW9uLCBtYXhEZWdyZWUpID0+XHJcbiAgICAgICgobW91c2VBeGlzIC8gZWxBeGlzRGltZW5zaW9uKSAqIDIgLSAxKSAqIG1heERlZ3JlZTtcclxuXHJcbiAgICBpbWFnZUVsLnN0eWxlLnRyYW5zZm9ybSA9IGBwZXJzcGVjdGl2ZSg4MDBweCkgcm90YXRlWCgkey1jYWxjUm90YXRlREVHKFxyXG4gICAgICBtb3VzZS55LFxyXG4gICAgICBpbWFnZS55LFxyXG4gICAgICAyNVxyXG4gICAgKX1kZWcpIHJvdGF0ZVkoJHtjYWxjUm90YXRlREVHKFxyXG4gICAgICBtb3VzZS54LFxyXG4gICAgICBpbWFnZS54LFxyXG4gICAgICAyNVxyXG4gICAgKX1kZWcpIHNjYWxlM2QoMS4wMywgMS4wMywgMS4wMylgO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8gISBGQVEgc2VjdGlvblxyXG5cclxuLy8gRGlzcGxheWluZyBhbmQgaGlkaW5nIGFuc3dlciBmb3IgcXVlc3Rpb24gLy8gQWNjb3JkaW9uXHJcblxyXG5jb25zdCBhY2NvcmRpb25GQVFTZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGZhcUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhcV9faXRlbXMtYycpO1xyXG5cclxuICBmYXFJdGVtcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLmZhcV9faXRlbScpKSB7XHJcbiAgICAgIGNvbnN0IGl0ZW0gPSBlLnRhcmdldC5jbG9zZXN0KCcuZmFxX19pdGVtJyk7XHJcbiAgICAgIGNvbnN0IGJ0biA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLmZhcV9faXRlbS1idG4nKTtcclxuICAgICAgY29uc3QgYW5zd2VyID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuZmFxX19pdGVtLWFuc3dlcicpO1xyXG5cclxuICAgICAgaXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdmYXFfX2l0ZW0tLWFjdGl2ZScpO1xyXG5cclxuICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdmYXFfX2l0ZW0tLWFjdGl2ZScpKSB7XHJcbiAgICAgICAgYW5zd2VyLnN0eWxlLm1heEhlaWdodCA9IGAke2Fuc3dlci5zY3JvbGxIZWlnaHR9cHhgO1xyXG4gICAgICAgIGJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1jaXJjbGUtbWludXNcIj48L2k+JztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhbnN3ZXIuc3R5bGUubWF4SGVpZ2h0ID0gJzAnO1xyXG4gICAgICAgIGJ0bi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1jaXJjbGUtcGx1c1wiPjwvaT4nO1xyXG4gICAgICAgIGJ0bi5ibHVyKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBJbnZva2luZyBtZXNzZW5nZXIgY2hhdCBieSBjbGlja2luZyBidG4gdW5kZXIgdGhlIHNlY3Rpb25cclxuXHJcbmNvbnN0IEludm9raW5nTWVzc2VuZ2VyQ2hhdGJ5RkFRQnRuID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10eXBlPVwibWVzc2VuZ2VyXCInKTtcclxuXHJcbiAgYnRucy5mb3JFYWNoKChidG4pID0+XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBGQi5DdXN0b21lckNoYXQuc2hvd0RpYWxvZygpKVxyXG4gICk7XHJcbn07XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gSW5zdGFyZ3JhbSBjdXJhdG9yLmlvXHJcblxyXG4vKiBjdXJhdG9yLWZlZWQtZGVmYXVsdC1mZWVkLWxheW91dCAqL1xyXG5jb25zdCBpbnN0YWdyYW1DdXJhdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gIGxldCBpO1xyXG4gIGxldCBlO1xyXG4gIGNvbnN0IGQgPSBkb2N1bWVudDtcclxuICBjb25zdCBzID0gJ3NjcmlwdCc7XHJcbiAgaSA9IGQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgaS5hc3luYyA9IDE7XHJcbiAgaS5jaGFyc2V0ID0gJ1VURi04JztcclxuICBpLnNyYyA9XHJcbiAgICAnaHR0cHM6Ly9jZG4uY3VyYXRvci5pby9wdWJsaXNoZWQvMWUxMTdiOWYtYmEyNy00ZGZkLWI0NTYtMDQyOTc2YjUyZGY3LmpzJztcclxuICBlID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZShzKVswXTtcclxuICBlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGksIGUpO1xyXG59O1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIFRlc3RpbW9uaWFsc1xyXG4vLyBTd2lwZXJcclxuY29uc3QgVGVzdGltb25pYWxzSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBzd2lwZXIgPSBuZXcgU3dpcGVyKCcubXlTd2lwZXInLCB7XHJcbiAgICBlZmZlY3Q6ICdjb3ZlcmZsb3cnLFxyXG4gICAgZ3JhYkN1cnNvcjogdHJ1ZSxcclxuICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxyXG4gICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgbG9vcDogZmFsc2UsXHJcbiAgICBpbml0aWFsU2xpZGU6IDMsXHJcbiAgICBjb3ZlcmZsb3dFZmZlY3Q6IHtcclxuICAgICAgcm90YXRlOiAwLFxyXG4gICAgICBzY2FsZTogMSxcclxuICAgICAgc3RyZXRjaDogLTEwLFxyXG4gICAgICBkZXB0aDogNzI1LFxyXG4gICAgICBtb2RpZmllcjogMSxcclxuICAgICAgc2xpZGVTaGFkb3dzOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQnLFxyXG4gICAgICBwcmV2RWw6ICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyxcclxuICAgIH0sXHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBNYWluIGZ1bmN0aW9uc1xyXG5tb2JpbGVOYXZpZ2F0aW9uSGFuZGxlcigpO1xyXG5kaXNwbGF5Rm9vdGVyWWVhcigpO1xyXG5mYWNlYm9va01lc3NlbmdlcigpO1xyXG5zY3JvbGxUb1RvcCgpO1xyXG5cclxuLy8gRnVuY3Rpb25zIGZvciB0aGlzIHBhcnRpY3VyYWwgcGFnZVxyXG5zaG93QWdlVmVyeWZpY2F0aW9uTW9kYWwoKTtcclxuc2Nyb2xsVG9NYWluQ29udGVudCgpO1xyXG5hbmltYXRlZDNETG9nbygpO1xyXG5zZWN0aW9uQW5pbWF0aW9uSGFuZGxlKCk7XHJcbnZpZGVvSGFuZGxlcigpO1xyXG5pbnN0YWdyYW1DdXJhdG9yKCk7XHJcblRlc3RpbW9uaWFsc0hhbmRsZXIoKTtcclxuYWNjb3JkaW9uRkFRU2VjdGlvbigpO1xyXG5JbnZva2luZ01lc3NlbmdlckNoYXRieUZBUUJ0bigpO1xyXG5cclxuY29va2llc01vZGFsKCk7XHJcbiJdfQ==
